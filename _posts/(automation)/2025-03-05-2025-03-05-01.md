---
title: "ìš°ë¦¬ê°€ ë‹¤êµ­ì–´ ì²˜ë¦¬ê°€ ìˆì—ˆì–´..?(ë²ˆì—­ ìë™í™”)"
categories:
  - automation
tags: [i18next, githubAction, google-spreadsheet]
---

# ìš°ë¦¬ê°€ ë‹¤êµ­ì–´ ì²˜ë¦¬ê°€ ìˆì—ˆì–´..?(ë²ˆì—­ ìë™í™”)

## ë°œí‘œìë£Œ ì™„ì„±!: https://gamma.app/docs/-jl63f5t028vswdx

# Version1. í”„ë¡œì„¸ìŠ¤ ê°œì„ 

### ë²ˆì—­ í”„ë¡œì„¸ìŠ¤

í˜„ì¬ : í•œê¸€ì„ ì‘ì„±í•¨ â†’ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„± â†’ ì—‘ì…€ë¡œ ì˜®ê¹€ â†’ ë²ˆì—­ìš”ì²­ â†’ ì—‘ì…€ì±„ì›€ â†’ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¹€ (ìˆ˜ë™)

ìë™ : í•œê¸€ì„ ì‘ì„±í•¨ â†’ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„± â†’ ì—‘ì…€ë¡œ ì˜®ê¹€ â†’ ë²ˆì—­ìš”ì²­ â†’ ì—‘ì…€ì±„ì›€ â†’ ì†ŒìŠ¤ì½”ë“œ ì˜®ê¹€ (ìë™í™”)

## ìƒê° ì •ë¦¬!

í˜„ì¬ : í•œê¸€ì„ ì‘ì„±í•¨ â†’ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„± â†’ ì—‘ì…€ë¡œ ì˜®ê¹€ â†’ ë²ˆì—­ìš”ì²­ â†’ ë²ˆì—­ì™„ë£Œ â†’ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¹€ (ìˆ˜ë™)

ìë™ : í•œê¸€ì„ ì‘ì„±í•¨ â†’(1. i18n-parser)â†’ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„± â†’(2. google-spreadsheet)â†’ ì—‘ì…€ë¡œ ì˜®ê¹€ â†’ ë²ˆì—­ìš”ì²­ â†’ ë²ˆì—­ì™„ë£Œ â†’(3. google-spreadsheet)â†’ ì†ŒìŠ¤ì½”ë“œ ì˜®ê¹€ (ìë™í™”)

### ë¬¸ì œ ì •ì˜

ë¬¸ì œ: ë‹¤êµ­ì–´ ê·€ì°®ë‹¤

ë­ê°€ ê·€ì°®ì•„?

â†’ ìœ„ì˜ ê³¼ì •ì´

ë°˜ë³µë˜ëŠ” ì¼ë“¤ì´ ë­ê°€ ìˆì–´?

â†’ ì‚¬ìš©í•œ í•œê¸€ ë¬¸êµ¬ë¥¼ jsonìœ¼ë¡œ ë§Œë“¤ê¸° â‡’ i18n-parser

â†’ ë§Œë“  jsonì„ êµ¬ê¸€ ì‹œíŠ¸ì— ì˜®ê¸°ê¸° â‡’ google-spreadsheet upload

â†’ êµ¬ê¸€ ì‹œíŠ¸ì— ì˜®ê¸´ í›„ ë²ˆì—­ ìš”ì²­í•˜ê¸° â‡’ ì—…ë¡œë“œ ì‹œ ë²ˆì—­ê°€ì—ê²Œ ì•Œë¦¼ (â‡’ ê·€ì°®ì•„ í•˜ì‹¤ ê²ƒ ê°™ì•„ ë³´ë¥˜,,,)

â†’ ë²ˆì—­ ì™„ë£Œë˜ë©´ êµ¬ê¸€ ì‹œíŠ¸ì˜ ê°’ì„ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¸°ê¸° â‡’ google-spreadsheet download

- ë²ˆì—­ê°€ì™€ì˜ ì†Œí†µ ë¹„ìš© ë°œìƒ

ë²ˆì—­ìœ¼ë¡œ ë¶€í„° ì™„ë²½í•˜ê²Œ ë²—ì–´ë‚˜ë ¤ë©´??

â†’ ë²ˆì—­ í›„ ë°°í¬ê¹Œì§€ ê°€ëŠ¥í•˜ë„ë¡ ì„¸íŒ…!

ê°œë°œì : ì†ŒìŠ¤ì½”ë“œ ì‘ì„± â†’ ì»¤ë°‹ ì‹œ ì½”ë“œ ìŠ¤ìº”(pre commit) â†’ ì†ŒìŠ¤ì½”ë“œ JSONì—…ë°ì´íŠ¸ â†’ push ì‹œ êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸(pre push)

ë³€ì—­ê°€ : êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸ â†’ ë² í¬ ë²„íŠ¼ í´ë¦­ â†’ Bë ˆí¬ github action ì‹¤í–‰ â†’ dev/stg ë°°í¬

code scanner : i18next-parser

---

### **Process1 â†’ O**

<aside>
ğŸ’¡ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì´ìš©í•´ì„œ ìë™í™”í•˜ê¸°

</aside>

1. ì†ŒìŠ¤ì½”ë“œì— t({'í•œê¸€'}) ì„ ì…ë ¥
2. commit ì‹œ public/locales ê°ê°ì— ì¶”ê°€ ìë™í™”(`git precommit hook` || `i18next-scanner` ì´ìš©)
3. public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©í•´ upload ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±)
4. ë²ˆì—­ ìš”ì²­ (dev ë°°í¬ ì „ / í›„ ??)
5. build ì‹œ public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©)

**User Flow**

1. t({'í•œê¸€'}) ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì—… (ì†ŒìŠ¤ì½”ë“œ ë‚´ì—ì„œ ì›ë˜ í•˜ë˜ëŒ€ë¡œ ì‘ì—…)
2. ë²ˆì—­ ìš”ì²­
3. ë²ˆì—­ ì™„ë£Œ ë˜ë©´ push(stgë°°í¬)

**ì¥ì **

1. ì•„ë¦„ë‹¤ìš´ DX (json ì…ë ¥, êµ¬ê¸€ì‹œíŠ¸ ì…ë ¥, êµ¬ê¸€ì‹œíŠ¸ ë™ê¸°í™” í•„ìš”X)
2. ë²ˆì—­ê³¼ ë¹„ë™ê¸°ì  ì‘ì—… ê°€ëŠ¥ (ë²ˆì—­ ì™„ë£Œ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ê°œë°œ ê°€ëŠ¥)

**ë‹¨ì **

1. ë²ˆì—­ê³¼ ë¹„ë™ê¸°ì  ì‘ì—… ê°€ëŠ¥ (ë²ˆì—­ì´ ì™„ë£Œëœ ì¤„ ì•Œê³  prd ì˜¬ë ¸ëŠ”ë° ë²ˆì—­ì´ ì•ˆë˜ì—ˆì„ ìˆ˜ ìˆìŒ - íœ´ë©´ì—ëŸ¬ ì¡°ì‹¬!)
2. ë³€ìˆ˜ ì²˜ë¦¬ ì–´ë–»ê²Œ í• ì§€ ë¦¬ì„œì¹˜ í•„ìš”
3. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ë„ ìƒìŠ¹ (`i18next-scanner`, )

---

### ì°¸ê³ 

êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ ìë™í™” : [https://www.wooslog.com/blog/internalization-automation](https://www.wooslog.com/blog/internalization-automation)

êµ­ì œí™” ìë™í™” ê°€ì´ë“œ : [https://ui.toast.com/weekly-pick/ko_20210303](https://ui.toast.com/weekly-pick/ko_20210303)

êµ­ì œí™” ìë™í™” ê°€ì´ë“œ(ë””í…Œì¼) : [https://hjleee93.github.io/frontend/javascript/autoLocalization/](https://hjleee93.github.io/frontend/javascript/autoLocalization/)

ìë™í™” ì‘ì—… : [https://constell847.oopy.io/f6e5a133-ef47-4017-a71b-9127953aa511](https://constell847.oopy.io/f6e5a133-ef47-4017-a71b-9127953aa511)

---

### **Process2 â†’ X**

<aside>
ğŸ’¡ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ S3ì— ì—…ë¡œë“œí•´ì„œ ìë™í™”í•˜ê¸°

</aside>

1. ì†ŒìŠ¤ì½”ë“œì— t({'í•œê¸€'}) ì„ ì…ë ¥
2. commit ì‹œ public/locales ê°ê°ì— ì¶”ê°€ ìë™í™”(`git precommit hook` || `i18next-scanner` ì´ìš©)
3. public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©í•´ upload ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±)
4. ë²ˆì—­ ìš”ì²­ (dev ë°°í¬ ì „ / í›„ ??)
5. build ì‹œ public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©)

**User Flow**

í˜„ì¬ : í•œê¸€ì„ ì‘ì„±í•¨ â†’ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„± â†’ ì—‘ì…€ë¡œ ì˜®ê¹€ â†’ ìš”ì²­ â†’ ì—‘ì…€ì±„ì›€ â†’ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¹€ (ìˆ˜ë™)

1. t({'í•œê¸€'}) ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì—… (ì†ŒìŠ¤ì½”ë“œ ë‚´ì—ì„œ ì›ë˜ í•˜ë˜ëŒ€ë¡œ ì‘ì—…)

   â‡’ push ì‹œ ìŠ¤ìº”í•´ì„œ jsoníŒŒì¼ ë§Œë“¬

   â‡’ êµ¬ê¸€ ì‹œíŠ¸ì— ì—…ë¡œë“œ

2.
3. ë²ˆì—­ ì™„ë£Œ ë˜ë©´ push

---

### **Process3 â†’ X**

<aside>
ğŸ’¡ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ í†µí•´ ì—…ë¡œë“œ, ë°°í¬ ìë™í™”í•˜ê¸°

</aside>

1. ì†ŒìŠ¤ì½”ë“œì— t({'í•œê¸€'}) ì„ ì…ë ¥
2. commit ì‹œ public/locales ê°ê°ì— ì¶”ê°€ ìë™í™”(`git precommit hook` || `i18next-scanner` ì´ìš©)
3. public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©í•´ upload ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±)
4. build ì‹œ public/localesì˜ í‚¤ê°’ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œ ìë™í™” (`google-spreadsheet` ì´ìš©)

êµ¬ê¸€ ì‹œíŠ¸ ë‚´ì— github actionì„ íŠ¸ë¦¬ê±°í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± â‡’ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë²„íŠ¼ í´ë¦­ â‡’ stg ë°°í¬

(ë²ˆì—­ ìš”ì²­ í›„ ê¸°ë‹¤ë¦¬ê³  ë°°í¬ í•˜ëŠ” ê³¼ì •ì„ ë²ˆì—­ìª½ì— ìœ„ì„)

í”¼ë“œë°±
â‡’ PRë¡œ ì˜¬ë¦´ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ì„ ë“¯ /
â‡’ vpnì—ì„œ ê±¸ë¦´ . ìˆ˜ìˆìŒ github ì ‘ê·¼ ìì²´ê°€ ì•ˆë”¤

PRì„ ì˜¬ë¦°ë‹¤? â†’ ìš°ë¦¬ê°€ Mergeë¥¼ í•´ì¤˜ì•¼í•¨

ë²ˆì—­ìª½ì—ì„œ ë¹Œë“œí•œë‹¤? â†’ ìš°ë¦¬ ì‘ì—… ì‹œ mergeê°€ í•„ìš”í•˜ë‹¤

ì¶©ëŒì€? â†’jsonì—ì„œë§Œ ë‚œë‹¤ â‡’ ê·¸ëŸ¼ êµ³ì´ ê²€ì‚¬ê°€ í•„ìš”í•œê°€?

ê±°ìŠ¤ ìŠ¹ì¸ ë–¨ì–´ì¡Œë‹¤!!! prë§ê³  deployí•˜ëŠ”ê±¸ë¡œ!!

ì•„ì•„ì•„â€¦ì•ˆë¼â€¦

![Untitled](/images/2025-03-05-2025-03-05-01/Untitled.png)

GitHub Actions ì‹¤í–‰ì˜ IP ì£¼ì†Œê°€ í—ˆìš© ëª©ë¡ì— í¬í•¨ë˜ì–´ìˆì–´ì•¼ í•œë‹¤ê³  í•œë‹¤..

ì•„ì•„ì•„ë‚˜í›„ì•„ì¼ëˆ„ì´ì•„ì•„ì•„,,,,,,,,

ì–´??

![Untitled](/images/2025-03-05-2025-03-05-01/Untitled%201.png)

ã„±ã„´????????

í— í— í— í— í—ˆì»¿ì»¤í—ˆ

![Untitled](/images/2025-03-05-2025-03-05-01/Untitled%202.png)

ë‚´ì¼ ê±°ìŠ¤ê»˜ ì—´ì–´ë‹¬ë¼ê³  í•˜ì«ã…ã…ã…ã…ã…í«íˆã…£íˆíˆí£

ì•„ ì ë§Œâ€¦ ì—¬ê¸° ipëŠ” êµ¬ê¸€ ì„œë²„ipì–ì•„â€¦ ë™ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ”ê±¸ ëŒ€ì‘ì•ˆë˜ì§€â€¦

ê·¸ëŸ¬ë‹¤ë©´?

ì¤‘ê°„ì— ë²ˆì—­ì„ ìœ„í•œ ë ˆí¬ë¥¼ í•˜ë‚˜ íŒŒì„œ

ì—¬ê¸°ëŠ” ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•˜ê³ 

ë²ˆì—­ ë ˆí¬ì—ì„œ ì¡°ì§ ë ˆí¬ë¡œ íŠ¸ë¦¬ê±° ë³´ë‚¸ë‹¤ë©´?

ê¹ƒí—™ ì•¡ì…˜ ipëŠ” ë™ì ìœ¼ë¡œ ë³€í•˜ê¸´í•˜ì§€ë§Œ ê·¸ ë²”ìœ„ê°€ ì •í•´ì ¸ìˆë‹¤

![Untitled](/images/2025-03-05-2025-03-05-01/Untitled%203.png)

ê·¸ë¦¬ê³  ì¼ì£¼ì¼ì— í•œ ë²ˆ ì—…ë°ì´íŠ¸ ëœë‹¤

ë˜í•œ ì´ê°’ì„ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì´ ìˆê¸´ í•˜ë‹¤

â‡’ ìŠ¤í…ì˜¤ë²„í”„ë¡œì›Œì˜ github action ip white list ë“±ë¡ ë°©ë²•

: [https://stackoverflow.com/questions/68011051/how-do-i-whitelist-github-actions-ip-addresses-in-azure-web-app-using-githubs-a](https://stackoverflow.com/questions/68011051/how-do-i-whitelist-github-actions-ip-addresses-in-azure-web-app-using-githubs-a)

â‡’ ê¹ƒí—™ ì»¤ë®¤ë‹ˆí‹°ì˜ ë“±ë¡ ë°©ë²•

: [https://github.com/orgs/community/discussions/26884](https://github.com/orgs/community/discussions/26884)

ê·¸ë ‡ë‹¤ë©´ ì´ë¡ ì ìœ¼ë¡œëŠ” ê°€ëŠ¥í•˜ì§€ ì•ŠìŒ??

**ì‹œíŠ¸ â†’ (ip ì—´ì–´ë‘ ) â†’ ë²ˆì—­ë ˆí¬ â†’ (github action ipëª©ë¡ë§Œ whitelistì— ì¶”ê°€í•¨)â†’ ì¡°ì§ë ˆí¬**

â‡’ ê·¼ë° ì¡°ì§ ë ˆí¬ ìì²´ê°€ vpn íƒ€ì•¼ë¼ì„œ ì¡°ì§ë‚´ì— ë§Œë“œëŠ” ê²ƒì€ ì•ˆë¼â€¦ã…œ

â‡’ í• ë ¤ë©´ ë²ˆì—­ë ˆí¬ë¥¼ ê°œì¸ë ˆí¬ë¡œ ë§Œë“¤ê³  ê°œì¸ ë ˆí¬ì—ì„œ ì¡°ì§ ë ˆí¬ë¡œ íŠ¸ë¦¬ê±° ë³´ë‚´ì•¼ ë˜ëŠ”ë°â€¦ ì´ê±¸ ì¸í”„ë¼ íŒ€ì´ ìŠ¹ì¸ í•´ì¤„ê¹Œ..?

â‡’ ~~99.9% í˜¼ë‚ ë“¯,,~~

ì•„ë‹ˆë©´ ê°œì¸ë ˆí¬ì— ì„œë²„ í•˜ë‚˜ ë„ì›Œì„œ JWTë¡œ ì¸ì¦ê³¼ì • ê±°ì¹˜ê³  íŠ¸ë¦¬ê±° ë³´ë‚¸ë‹¤ë©´??

### ë³´ì•ˆì  ì´ìŠˆëŠ”?

ì¡°ì§ë ˆí¬ì— ì ‘ê·¼ ê°€ëŠ¥í•œ êµ¬ë©ì´ ìƒê¸´ë‹¤

â‡’ ì´ê²Œ êµ¬ë©ì´ ë§ë‚˜?

â‡’ íŠ¸ë¦¬ê±°ì˜ ì—­í• ì€ í•˜ì§€ë§Œ ì–´ë–¤ ì—‘ì…˜ì´ ëŒê²ŒëŠ” ëª»í•œë‹¤

â‡’ ê·¸ëŸ¼ ê´œì°®ì§€ ì•ŠìŒ??

ê°€ëŠ¥í•œ ì´ìŠˆëŠ” íŠ¸ë¦¬ê±°ë¥¼ ê²ë‚˜ ë§ì´ë³´ë‚´ëŠ” ì´ìŠˆ ìƒê¸¸ ìˆ˜ ìˆìŒ

â‡’ ì–´ì¼€ ë§‰ì„ê¹Œâ€¦

â‡’ ì¤‘ê°„ ë ˆí¬ì—ì„œ íƒ€ì´ë¨¸ ê°™ì€ ê±° ì„¤ì •í•´ì„œ íŠ¹ì • ì‹œê°„ ë™ì•ˆ í•œë²ˆë§Œ ì‹¤í–‰ë˜ê²Œ í•˜ë©´ ë˜ì§€ ì•Šë‚˜?

ë¼ëŠ” ë§ìƒí•´ë´¤ìŠµë‹ˆë‹¤.

---

# ê²°ë¡  â†’ Process 1 ì±„íƒ thank you gus!

## í”„ë¡œì„¸ìŠ¤ ê°œì„ 

<aside>
ğŸ’¡

**ëª©í‘œ** : ê°œë°œí•˜ë©° 'ë‚´ê°€ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ í•˜ê³  ìˆë‚˜..?'ë¼ëŠ” ìƒê°ì´ ë˜ë„ë¡ í•˜ê¸°

</aside>

### í˜„ì¬ í”„ë¡œì„¸ìŠ¤

1. ê°œë°œ ì‹œ í•œê¸€ì„ ì‘ì„±í•¨
2. ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„±
3. êµ¬ê¸€ ì‹œíŠ¸ë¡œ ì˜®ê¹€
4. ë²ˆì—­ê°€ì—ê²Œ ë²ˆì—­ìš”ì²­
5. ë²ˆì—­ê°€ê°€ êµ¬ê¸€ ì‹œíŠ¸ì±„ì›€
6. ê°œë°œìì—ê²Œ ì—°ë½
7. ê°œë°œìê°€ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¹€
8. ê°œë°œìê°€ PR ì‘ì„±í•´ì„œ mergeí•¨

### ìë™í™” í”„ë¡œì„¸ìŠ¤

1. ê°œë°œ ì‹œ í•œê¸€ì„ ì‘ì„±í•¨
2. ~~ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„±~~ â†’ Pushì‹œ ì†ŒìŠ¤ì½”ë“œ ìŠ¤ìº”í•´ì„œ json ì—…ë°ì´íŠ¸
3. ~~êµ¬ê¸€ ì‹œíŠ¸ë¡œ ì˜®ê¹€~~ â†’ Dev PR ë¨¸ì§€ ì‹œ êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸
4. ~~ë²ˆì—­ê°€ì—ê²Œ ë²ˆì—­ìš”ì²­~~
5. (ë²ˆì—­ê°€ê»˜ì„œ ë²ˆì—­ì´ í•„ìš”í•œ ì‹œì ì— ì•Œì•„ì„œ)êµ¬ê¸€ ì‹œíŠ¸ ì±„ì›€
6. ~~ê°œë°œìì—ê²Œ ì—°ë½~~ â†’ ì‹œíŠ¸ë²„íŠ¼ í´ë¦­(PR ìƒì„±)
7. ~~ê°œë°œìê°€ ì†ŒìŠ¤ì½”ë“œë¡œ ì˜®ê¹€~~
8. ê°œë°œìê°€ PR ì‘ì„±í•´ì„œ mergeí•¨ â†’ ì˜¬ë¼ì˜¨ PRì„ ë³´ê³  ë¨¸ì§€í•¨

## ê³¼ì •

### Step1. ì†ŒìŠ¤ì½”ë“œ ìŠ¤ìº” â‡’ ì™„.

### TODO

- [x] ì†ŒìŠ¤ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì„œ t('')ë¡œ ë‹¤êµ­ì–´ ì²˜ë¦¬í•œ ë¶€ë¶„ì„ íŒŒì‹± â†’ ê°ê° public/locales/{lng}/common.json ìœ¼ë¡œ ë³€í™˜

ê¸°ì¡´ì— ìˆëŠ” í‚¤ì— ëŒ€í•œ value

- [x] íŒ¨ìŠ¤

ê¸°ì¡´ì— ì—†ëŠ” í‚¤ì— ëŒ€í•œ value

- [x] í‚¤ê°’ì„ valueì— ì¶”ê°€
- [x] ìŠ¤ìº” ì‹œ ë³€ìˆ˜ ì²˜ë¦¬ í™•ì • ì§€ì„ ê²ƒ (ë…¼ì˜) =:> ë³€ìˆ˜ì— {{ }} ì‚¬ìš© ê°€ëŠ¥ì—¬ë¶€
  - ê²°ë¡ 
    - json â‡’ `"{{nickname}}ì—ê²Œ ë‹µê¸€ ë‹¬ê¸°": "{{nickname}}ì—ê²Œ ë‹µê¸€ ë‹¬ê¸°",`
    - ì‚¬ìš© ì‹œ â‡’ `{t('{{nickname}}ì—ê²Œ ë‹µê¸€ ë‹¬ê¸°', { nickname })}`

ê¸°ì¡´ì— ìˆëŠ” í‚¤ ì‚­ì œí–ˆì„ ê²½ìš°

- [x] common_old.jsonì— ëª¨ì•„ë†“ìŒ
  - ì‹œíŠ¸ ì—…ë°ì´íŠ¸ ì‹œ í•´ë‹¹ í‚¤ê°’ë“¤ì˜ rowëŠ” ì œê±°
    - ì™œëƒí•˜ë©´ ìŠ¤ìº”ëœ°ë•Œë§ˆë‹¤ í•´ë‹¹ í‚¤ê°’ë“¤ì€ ì œê±°ë˜ì–´ ì—…ë¡œë“œ ë  ê²ƒì´ê³ , ì‹œíŠ¸ì—ì„œ PRì„ ë§Œë“¤ë©´ ë‹¤ì‹œ í•´ë‹¹ í‚¤ê°’ë“¤ì´ í¬í•¨ë˜ì„œ ë¨¸ì§€ë êº¼ì„
      â‡’ ì´ëŸ° ë¬¸ì œ ì‹±í¬ë¥¼ ë§ì¶°ì£¼ê¸° ìœ„í•´ì„œì„
  - key, valueì˜ ê´€ë¦¬ ì£¼ì²´ê°€
    key : ê°œë°œìê°€ ê´€ë¦¬ (í‚¤ëŠ” ìš°ë¦¬ê°€ ë§Œë“¤ì–´ìš”)
    vlaue: ë²ˆì—­ê°€ê°€ ê´€ë¦¬ (ë²ˆì—­ë³¸ì€ ë²ˆì—­ê°€ë‹˜ ë”°ë¥¼ê²Œìš”)
    ë¡œ ìƒê°ì„ í–ˆìŒ

ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì •i18next-parser VS i18next-scanner

![image.png](/images/2025-03-05-2025-03-05-01/image.png)

i18next-scannerëŠ”`useTranslation` í›… íƒìƒ‰ì‹œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ í•„ìš”í•´ì„œ i18next-parser ì„ íƒí•¨

ê¸°ë³¸ : íŒŒì‹±í•œ ë‹¨ì–´ json ì¶”ê°€ ì‹œ defaultValueëŠ” keyì™€ ë™ì¼

ë³µìˆ˜í˜• : `variables` ë°°ì—´ì— ìˆëŠ” ë‹¨ì–´ê°€ ìˆìœ¼ë©´ {{ }}ë¡œ ê°ì‹¸ì¤Œ

- i18nextì˜ ê¶Œì¥ ë³µìˆ˜í˜• ì²˜ë¦¬ ë°©ì‹ê³¼ ìš°ë¦¬ê°€ ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ë°©ì‹ì´ ë‹¬ë¼ì„œ ì›í•˜ëŠ” ë³€ìˆ˜ íŒŒì‹±í•´ì„œ {{}} ê°ì‹¸ëŠ” ë°©ì‹ìœ¼ë¡œ ë¡œì§ ì‘ì„±(ê¸°ì¡´ ìš°ë¦¬ ì‚¬ìš©ë°©ë²•)

### ì°¸ê³ 

i18next-parserê²°ì • ê·¼ê±°: https://velog.io/@1003gorkd/ë‹¤êµ­ì–´-ì„œë¹„ìŠ¤-ì§€ì›í•˜ê¸°

ë³µìˆ˜í˜• ì²˜ë¦¬ : https://www.i18next.com/translation-function/plurals

### Step2. pre push ì‹œ json ì—…ë°ì´íŠ¸ â‡’ ì™„.

pre-pushì— `npm run scan` ì¶”ê°€~ (Thank you GusğŸ«¡ğŸ«¡)

â†’ ë¡œ ë§Œì€ ì•ˆëœë‹¤! ^^ã…£

npm run scanì„ í†µí•´ locales/\*_/_.json íŒŒì¼ì„ ì—…ë°ì´íŠ¸ í•´ì¤¬ìœ¼ë©´ ì´íŒŒì¼ë“¤ì„ commit í›„ í•©ì³ì„œ push í•´ì¤˜ì•¼ í•œë‹¤

```bash
npm test

npm run scan
git add public/locales/**/*.json

if git diff --cached --quiet; then
  echo "No changes in locales JSON files, skipping commit."
else
  git commit -m 'create locales json'
fi
```

ìŒìŒ ì˜ ì˜¬ë¼ê°~

í•˜ì§€ë§Œ IDEê°€ create locales json ì»¤ë°‹ê¹Œì§€ pushí•œ ê±°ë¥¼ ì¸ì‹ëª»í•¨ â‡’ ~~íë¦°ëˆˆìœ¼ë¡œ ë„˜ì–´ê°€ê¸°~~

### Step3. dev ì— merge ì‹œ êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸ â‡’ ì™„.

### TODO

- [x] ê¶Œí•œ ì„¤ì • envë¡œ ë³€ê²½ + github ë¹„ë°€ì— ë“±ë¡
- [x] github workflowë¡œ í…ŒìŠ¤íŠ¸ ì„±ê³µ
- [x] uploadë¡œì§ ìˆ˜ì •

> ì¤€ë¹„

1. êµ¬ê¸€ ì‹œíŠ¸ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ ê³„ì • ìƒì„±(from. Google Cloud Console)
2. ì„œë¹„ìŠ¤ ê³„ì •ì— sheet API ê¶Œí•œ ì¶”ê°€
3. ì„œë¹„ìŠ¤ ê³„ì • ì¸ì¦í‚¤ ë°œê¸‰
4. í•´ë‹¹ êµ¬ê¸€ ì‹œíŠ¸ì— ì„œë¹„ìŠ¤ ê³„ì • ê¶Œí•œ ì¶”ê°€

- ì´ê²Œ ë¬´ìŠ¨ ì˜ë¯¸ê°€ ìˆëƒ..?
  ì¸ì¤„ ì•Œì•˜ëŠ”ë°
  1. ì„œë¹„ìŠ¤ ê³„ì •ì„ ë§Œë“ ë‹¤ëŠ” ê²ƒì€ ê·¸ëƒ¥ **'ê°€ìƒì˜ êµ¬ê¸€ ê³„ì •'** í•˜ë‚˜ ë” ë§Œë“œëŠ” ê²ƒ
  2. ì„œë¹„ìŠ¤ ê³„ì • tokenìœ¼ë¡œ ì¸ì¦ì„ â‡’ ë¡œê·¸ì¸
  3. êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë¹„ìŠ¤ ê³„ì •ì— ì—‘ì„¸ìŠ¤ ê¶Œí•œ + í¸ì§‘ ê¶Œí•œ ì´ ìˆì–´ì•¼ í•¨
  4. ê¶Œí•œ ì¸ì¦ ì´í›„ Sheet APIë¥¼ ì‚¬ìš©í•´ì„œ ì‹œíŠ¸ ìˆ˜ì •ê°€ëŠ¥
     ê·¸ë˜ì„œ í•„ìš”í•¨!

> 3-1. êµ¬ê¸€ ì‹œíŠ¸ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

ë¨¼ì € êµ¬ê¸€ ì‹œíŠ¸ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ êµ¬ê¸€ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ê³„ì •ì„ ë§Œë“¤ê³  API ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ ì—´ì–´ì¤€ë‹¤(sheet, drive API)

êµ¬ê¸€ ì‹œíŠ¸ì— ì„œë¹„ìŠ¤ê³„ì •ì„ í¸ì§‘ìë¡œ ì—‘ì„¸ìŠ¤ ê¶Œí•œì„ ë“±ë¡í•œë‹¤

> 3-2. PR merge ì‹œ github actionìœ¼ë¡œ ì—…ë°ì´íŠ¸ ìŠ¤íŠ¸ë¦½íŠ¸ ì‹¤í–‰

PRì´ ë¨¸ì§€ ë˜ì—ˆì„ ê²½ìš°ë¥¼ íŠ¸ë¦¬ê±°ë¥¼ ì¡ìŒ

```yaml
on:
  pull_request:
    types: [closed] # PRì´ ë‹«í ë•Œ, ì¦‰ ë¨¸ì§€ë  ë•Œ ì‹¤í–‰
```

ì´ëŸ° ì‹ìœ¼ë¡œ í•˜ê³  ê·¼ë° ì´ë ‡ê²Œ í•˜ë©´ ê·¸ëƒ¥ PRì„ ë‹«ì•˜ì„ë•Œë„ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— jobë¶€ë¶„ì—

```yaml
jobs:
  run-script:
    runs-on: ubuntu-latest # ì‚¬ìš©í•  ìš´ì˜ ì²´ì œ
    if: github.event.pull_request.merged == true # PRì´ ë¨¸ì§€ë˜ì—ˆëŠ”ì§€ í™•ì¸
```

ì´ë ‡ê²Œ ì¡°ê±´ë¬¸ë„ ì¶”ê°€í•´ì¤€ë‹¤.

- í”¼ë“œë°± ë°˜ì˜ - ëª¨ë“  PR mergeê°€ ì•„ë‹Œ devë¡œ merge ë ë•Œë§Œ ëŒê²Œë” ë³€ê²½!

```yaml

on:
  pull_request:
    types: [closed] # PRì´ ë‹«í ë•Œ, ì¦‰ ë¨¸ì§€ë  ë•Œ ì‹¤í–‰
  workflow_dispatch:

jobs:
  run-script:
    if: github.event.pull_request.merged == true && github.event.pull_request.base.ref == 'dev'

  ...
```

ê·¸ë¦¬ê³  upload ë¡œì§ì„ ë„£ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰ì‹œì¼œì¤€ë‹¤.

```yaml
steps:
  - name: Checkout code
    uses: actions/checkout@v2 # ì½”ë“œ ì²´í¬ì•„ì›ƒ

  - name: Set up Node.js
    uses: actions/setup-node@v2 # Node.js í™˜ê²½ ì„¤ì •
    with:
      node-version: "20"

  - name: Install dependencies
    run: npm install # í•„ìš”í•œ ì˜ì¡´ì„± ì„¤ì¹˜

  - name: Run your script
    run: node translate/upload.js # ì›í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```

ì°¸ê³  : https://wise-office-worker.tistory.com/44

403ì—ëŸ¬ : https://stackoverflow.com/questions/38949318/google-sheets-api-returns-the-caller-does-not-have-permission-when-using-serve

êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ ê³µì‹ë¬¸ì„œ : https://theoephraim.github.io/node-google-spreadsheet/#/guides/authentication?id=service-account

Thank you chatGPTâ¤ï¸

> 3-2. upload ë¡œì§ ë§Œë“¤ê¸°!

ì „ì œ : ë²ˆì—­ì˜ ìš°ì„ ìˆœìœ„ëŠ”

- key : ì†ŒìŠ¤ì½”ë“œ > ì‹œíŠ¸
- value : ì‹œíŠ¸ > ì†ŒìŠ¤ì½”ë“œ
- case1. ê¸°ì¡´ì— ìˆë˜ valueê°€ ìˆ˜ì •ë  ê²½ìš°
  ê°œë°œ : dev merge ë˜ë©° ì‹œíŠ¸ ì—…ë°ì´íŠ¸
  ë²ˆì—­ê°€ : ê¸°ì¡´ì˜ keyê°’ì˜ valueë¥¼ ë³€ê²½ ì•„ì§ PR ë‚ ë¦¬ê¸° ì „
  â‡’ upload ì‹œ ê¸°ì¡´ì— ìˆë˜ keyê°’ì˜ valueê°€ ë‹¬ë¼ ì¶©ëŒ ë°œìƒ
  - [x] ê¸°ì¡´ì— ìˆë˜ keyê°’ì€ ì—…ë°ì´íŠ¸ íŒ¨ìŠ¤
- case2. ê¸°ì¡´ì— ìˆë˜ keyê°€ ìˆ˜ì •ë  ê²½ìš°
  ê°œë°œ : ìŠ¤ìº” ëœ¨ëŠ” ìˆœê°„ ìƒˆë¡œìš´ keyê°’ì´ ì¶”ê°€ë¨ + ì´ì „ í‚¤ ê°’ ì‚¬ìš© ì•ˆí•¨
  ë²ˆì—­ê°€ : ìƒˆë¡œìš´ keyê°’ì´ ìƒê¹€
  â‡’ ë³€ê²½ëœ keyê°’ì€ ìƒˆë¡œìƒê¸´ keyì™€ ë™ì¼í•˜ê²Œ ì·¨ê¸‰
  - [x] ìƒˆë¡œìš´ rowì— ì¶”ê°€
        â‡’ ë³€ê²½ ì´ì „ keyê°’ì€ JSONì—ì„œ ì‚¬ë¼ì§
        â‡’ ì˜¤ë˜ëœ ê°’ì„ ê¸°ì–µ í•  ìˆ˜ëŠ” ìˆìŒ common_old.json ìœ¼ë¡œ ì €ì¥ë¨
  - [x] ì‹œíŠ¸ì— ì—…ë°ì´íŠ¸ í•  ë•ŒëŠ” common_old.jsonì— í•´ë‹¹í•˜ëŠ” rowë¥¼ ì‚­ì œí•´ì¤Œ

### Step4. êµ¬ê¸€ ì‹œíŠ¸ì—ì„œ PR ìƒì„± ë²„íŠ¼ êµ¬í˜„ â‡’ ì™„.

### TODO

- [x] ì´ë¯¸ ë¸Œëœì¹˜ê°€ ìƒì„± ë˜ì—ˆì„ ê²½ìš° ì˜ˆì™¸ì²˜ë¦¬
  1. ~~í•œë²ˆì— í•˜ë‚˜ì˜ PRë§Œ ìƒì„± ê°€ëŠ¥í•˜ê²Œ í•  ê²ƒì¸ê°€? â‡’ ê·¸ëŸ¬ë©´ ê·¸ëƒ¥ alertì— ê¸°ë‹¤ë¦¬ë¼ê³  ë„ìš°ë©´ ë~~
  2. ~~ì—¬ëŸ¬ê°œ PR ìƒì„± ê°€ëŠ¥í•˜ë©´? â‡’ auto-update-branch-1, auto-update-branch-2 ì´ëŸ°ì‹ìœ¼ë¡œ ë¸Œëœì¹˜ë§Œë“¤ê¸°~~
  3. ~~í•˜ë‚˜ì˜ PRì—ì„œ commitìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” í˜•ì‹?~~
  4. ë¸Œëœì¹˜ì„ ì—†ì• ê³  ìƒˆë¡­ê²Œ PR ë‚ ë¦¼

> ì¤€ë¹„ë¬¼

- í•´ë‹¹ ë ˆí¬ì— **fine-grained personal access token** ë°›ì•„ì•¼í•¨(ì ‘ê·¼ ê¶Œí•œ ë°›ê¸° ìœ„í•´ì„œ)
  - í•´ë‹¹ ê¸°ëŠ¥ ìˆ˜í–‰ì„ ìœ„í•´ ê¶Œí•œ ì„¤ì •ì„ í•´ì¤˜ì•¼í•¨
    - ì•„ë˜ ì—”ë“œí¬ì¸íŠ¸ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼í•¨
    ```jsx
    1. `https://api.github.com/repos/${repo}/contents/${path}?ref=${baseBranch}`;
    2. GET : `https://api.github.com/repos/${repo}/branches/${branch}`;
    3. POST : `https://api.github.com/repos/${repo}/git/refs`;
    4. POST : `https://api.github.com/repos/${repo}/pulls`;
    ```
    ì¦‰, ê¶Œí•œì´
    [Contents](https://docs.github.com/ko/rest/authentication/permissions-required-for-fine-grained-personal-access-tokens?apiVersion=2022-11-28#repository-permissions-for-contents) â‡’ 1ë²ˆ
    [Administration](https://docs.github.com/ko/rest/authentication/permissions-required-for-fine-grained-personal-access-tokens?apiVersion=2022-11-28#repository-permissions-for-actions) â‡’ 2, 3ë²ˆ
    [Pull requests](https://docs.github.com/ko/rest/authentication/permissions-required-for-fine-grained-personal-access-tokens?apiVersion=2022-11-28#repository-permissions-for-contents) â‡’ 4ë²ˆ
    ê°€ í•„ìš”í•˜ë‹¤ ìœ„ ê¶Œí•œì„ ìœ„í•´ì„œëŠ” [Metadata](https://docs.github.com/ko/rest/authentication/permissions-required-for-fine-grained-personal-access-tokens?apiVersion=2022-11-28#repository-permissions-for-metadata)ê°€ í•„ìˆ˜ë¡œ í•„ìš”í•´ì„œ ê²°êµ­ 4ê°œì˜ ê¶Œí•œì´ í•„ìš”í•˜ë‹¤
    ![image.png](/images/2025-03-05-2025-03-05-01/image%201.png)

ë™ì‘ íë¦„ì´

1. 'ë²ˆì—­ ì™„ë£Œ' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë¨
2. êµ¬ê¸€ ì‹œíŠ¸ë¥¼ json í˜•íƒœë¡œ ë§Œë“¬
3. í˜„ì¬ devì˜ ê°€ì¥ ìµœê·¼ commitì„ê¸°ì¤€(SHAë¡œ ê°€ì ¸ì˜´)ìœ¼ë¡œ ìƒˆë¡œìš´ branchë¥¼ ìƒì„±
   1. ê¸°ì¡´ì— branchê°€ ìˆìœ¼ë©´ ì‚­ì œ í›„ ë‹¤ì‹œ ë§Œë“¬
4. ìƒì„±ëœ ë¸Œëœì¹˜ì—ì„œ public/locales/{lngs}/common.json ë°ì´í„°ë“¤ì„ ê°€ì ¸ì˜´
5. 2ë²ˆì—ì„œ ë§Œë“  JSONì€ ì¸ì½”ë”©í•´ì„œ public/locales/{lng}/common.json ì— ì—…ë°ì´íŠ¸í•¨
6. í•´ë‹¹ ë³€ê²½ì‚¬í•­ë“¤ì„ commití•¨
7. PRì„ ìƒì„±í•¨

ì´ë ‡ê²Œ PRì´ ìƒì„±ë˜ì—ˆìŒ

ì´ì œ

1. íë­‡í•œ ë¯¸ì†Œë¥¼ì§€ìœ¼ë©° í•´ë‹¹ repoì— ë“¤ì–´ê°
2. ë¨¸ì§€ë¥¼ í•´ì¤Œ

ì°¸ê³  : https://docs.github.com/ko/enterprise-cloud@latest/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens

![image.png](/images/2025-03-05-2025-03-05-01/image%202.png)

<<ì£¼ì˜>>

1. githubì— ì‹œí¬ë¦¿ í‚¤ ë„£ì„ ë•Œ "" ë¹¼ì•¼í•¨
2. êµ¬ê¸€ ì‹œíŠ¸ì˜ 1ë²ˆì§¸ rowê°€ í—¤ë”ê°€ ë¨â€¦ ë¬´ì¡°ê±´,,,

   1. 1ë²ˆì§¸ row í—¤ë”
   2. 2ë²ˆì§¸ row titleë¡œ ì¡ìŒ

      â‡’ ê·¸ë˜ì„œ upload.js / apps script ì— í—¤ë” ì²˜ë¦¬ ë”°ë¡œ í•´ì¤Œ

3. T() ì•ˆì— ì‚¼í•­ì—°ì‚°ì ë„£ìœ¼ë©´ ì¸ì‹ ëª»í•¨
   t( check ? 'A' : 'B') â‡’ check ? t('A'):t('B') ì´ë ‡ê²Œ í•´ì•¼í•¨

### PR **description**

![image.png](/images/2025-03-05-2025-03-05-01/image%203.png)

ì „ì²´ì ì¸ í”Œë¡œìš°ëŠ” ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤!

ë‹¤êµ­ì–´ ì²˜ë¦¬ ì‹œ í‚¤ê°’ì—ì„œ ë³€ìˆ˜ë¥¼ {{ë³€ìˆ˜}} ë¶€ë¶„ìœ¼ë¡œ ê°ì‹¸ê³  ë‚˜ë¨¸ì§€ëŠ” ë™ì¼í•©ë‹ˆë‹¤.

```tsx
{
  t("{{points}}P ë‹¨ìœ„ë¡œ êµí™˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.", {
    points: MINIMUM_POINTS.toLocaleString(),
  });
}
```

ìµœëŒ€í•œ ì˜ˆì™¸ìƒí™©ë“¤ì„ ê³ ë ¤í•´ë´¤ëŠ”ë° ê·¸ë˜ë„ ë†“ì¹˜ëŠ”ê²Œ ìˆì„ ê²ƒ ê°™ì•„ì„œ í˜„ì¬ ì‹œíŠ¸ì— ì—…ë°ì´íŠ¸í•˜ì§€ ì•Šê³ 

**`[MoneyBall-ì›¹ë·°] ì „ì²´ ë²ˆì—­(Auto)`** ì—ì„œ ìš´ì˜ ì´í›„ ì˜ ì‘ë™í•œë‹¤ ì‹¶ìœ¼ë©´ ë³€ê²½í•˜ë ¤ê³  í•©ë‹ˆë‹¤!

[ì²˜ë¦¬í•œ ì˜ˆì™¸ìƒí™©]

- ì†ŒìŠ¤ì½”ë“œ ìŠ¤ìº” ì‹œ
  - ê¸°ì¡´ì— ìˆëŠ” í‚¤ê°’ â‡’ update íŒ¨ìŠ¤
  - ê¸°ì¡´ì— ìˆë˜ í‚¤ê°’ì¤‘ ì†ŒìŠ¤ì½”ë“œì—ì„œ ì‚­ì œëœ í‚¤ê°’ â‡’ common_old.jsonì— ì €ì¥
  - ìƒˆë¡œìš´ í‚¤ê°’ ì¶”ê°€ â‡’ ìƒˆë¡œìš´ key: valueë¡œ ì¶”ê°€
    - ìƒˆë¡œì¶”ê°€ëœ ê°’ì€ key === value ì…ë‹ˆë‹¹
- ë²ˆì—­ PR í›„ sheet update(dev PR merge) í•˜ëŠ”ê²½ìš°
  - ê¸°ì¡´ì— ìˆëŠ” í‚¤ê°’ â‡’ update íŒ¨ìŠ¤
  - ê¸°ì¡´ì— ìˆë˜ í‚¤ê°’ì¤‘ ì†ŒìŠ¤ì½”ë“œì—ì„œ ì‚­ì œëœ í‚¤ê°’(common_old.json) â‡’ row ì œê±°
  - ìƒˆë¡œìš´ í‚¤ê°’ ì¶”ê°€ â‡’ ìƒˆë¡œìš´ rowë¡œ ì¶”ê°€
    - ìƒˆë¡œìš´ í‚¤ê°’ì„ ì¶”ê°€í•  ê²½ìš° koëŠ” key ===valueì´ì§€ë§Œ en, jaëŠ” ë¹ˆê°’ìœ¼ë¡œ ë„£ì–´ë†¨ìŠµë‹ˆë‹¤.
      - ì†ŒìŠ¤ì½”ë“œì—ëŠ” ko, en, ja ëª¨ë‘ ìƒˆë¡œìš´ ê°’ì€ key===valueë¡œ ë§Œë“¤ì—ˆì§€ë§Œ ì´ë ‡ê²Œ ì—…ë°ì´íŠ¸í•˜ë©´ ë²ˆì—­ ì‹œ ë¹ˆ ê°’ì„ ì°¾ê¸° ì–´ë ¤ìš¸ ê²ƒ ê°™ì•„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
      - ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ë¹ˆê°’ì€ ìƒ‰ê¹”ì„ ë‹¤ë¥´ê²Œ ì¤˜ ì°¾ê¸° í¸í•´ì¡ŒìŠµë‹ˆë‹¤.
        ![image.png](/images/2025-03-05-2025-03-05-01/image%204.png)
- ë²ˆì—­ PR ìƒì„± ì‹œ
  - ë¹ˆ ê°’ì´ ìˆìœ¼ë©´ ìƒì„±ì„ ëª»í•˜ë„ë¡ ë§‰ìŒ

ë³€ê²½ í›„ ë‹¤êµ­ì–´ ì²˜ë¦¬ì˜ í”„ë¡œì„¸ìŠ¤ëŠ”

ê°œë°œ ì‹œì—ëŠ”

1. ê°œë°œí•  ë•Œ ë³€ìˆ˜ëŠ” {{ë³€ìˆ˜}}ë¡œ í‚¤ê°’ ìƒì„±

ì™¸ì—ëŠ” ë”°ë¡œ ì²˜ë¦¬í• ê±´ ì—†ìŠµë‹ˆë‹¤.

ë²ˆì—­ í›„ PRì´ ìƒì„±ë˜ë©´ ë¨¸ì§€í•˜ë©´ ëì…ë‹ˆë‹¹.

### ì¶”ê°€ ê°œë°œ ì‚¬í•­

- [x] í™•ì¥ì„± ê³ ë ¤ í• ê²ƒ â‡’ íŒŒì¼ ìœ„ì¹˜, íŒŒì¼ ì´ë¦„, token, key ê°’ë“¤ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ê°œì„ 
  - í•„ìˆ˜ / ì˜µì…˜ ê°’ì„ í‚¤ ë°›ì•„ì„œ script ëŒë¦¬ëŠ” ì‹ìœ¼ë¡œ ë³€ê²½
    ```tsx
    // web-view
    const webViewKey = {
      // í•„ìˆ˜ ê°’
      token: "PATí† í°ê°’",
      repo: "virtualcare/pasta-webview",
      baseBranch: "dev",
      sheetTitle: "[MoneyBall-ì›¹ë·°] ì „ì²´ ë²ˆì—­(Auto)",
      // ì˜µì…˜ ê°’
      newBranch: "auto-update-branch",
      prTitle: "feat: ë²ˆì—­ ë¦¬ì†ŒìŠ¤ ì—…ë°ì´íŠ¸(google sheet -> repo)",
      prBody: "êµ¬ê¸€ ì‹œíŠ¸ì˜ ë²ˆì—­ì„ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.",
    };
    ```
- [ ] ë‹¤ë¥¸ íŒŒíŠ¸(IOS, AOS, BE)ë„ ì‚¬ìš© ê°€ëŠ¥í•œ ë¶€ë¶„ ê²€í† í•˜ê¸°
  - AOS : ì²˜ìŒë¶€í„° XMLì— ë„£ìŒ â†’ ê·¸ë¦¬ê³  í‚¤ê°’ì„ ê°€ì ¸ë‹¤ ì”€ â†’ ë‚˜ë¨¸ì§€ëŠ” ë™ì¼
  - ì†ŒìŠ¤ì½”ë“œ ìŠ¤ìºë„ˆ
    - FE : i18next-parse
    - IOS: [bartycrouch](https://github.com/FlineDev/BartyCrouch)
    - AOS: ì—†ì„ë¦¬ê°€ ì—†ëŠ”ë°â€¦

---

### ì°¸ê³ 

ì‚¬ë¡€1 :[https://www.rldnd.net/react-i18next--](https://www.rldnd.net/react-i18next--)

ì›Œí¬í”Œë¡œ ì „ë‹¬ ì´ë²¤íŠ¸ : [https://docs.github.com/ko/rest/actions/workflows?apiVersion=2022-11-28#create-a-workflow-dispatch-event](https://docs.github.com/ko/rest/actions/workflows?apiVersion=2022-11-28#create-a-workflow-dispatch-event)

ë°°í¬ì— ëŒ€í•œ REST API ì•¤ë“œí¬ì¸íŠ¸ : [https://docs.github.com/ko/rest/deployments/deployments?apiVersion=2022-11-28](https://docs.github.com/ko/rest/deployments/deployments?apiVersion=2022-11-28)

http request : [https://blog.nashtechglobal.com/trigger-a-github-action-with-an-http-request/](https://blog.nashtechglobal.com/trigger-a-github-action-with-an-http-request/)

renovateëŠ” prë§Œë“¤ì–´ì¤Œ : [https://docs.renovatebot.com/](https://docs.renovatebot.com/)

ì¡°ì§ì— í—ˆìš©ë˜ëŠ” IP ì£¼ì†Œ ê´€ë¦¬ : [https://docs.github.com/ko/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization](https://docs.github.com/ko/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization)

github ip ì£¼ì†Œ ëª©ë¡ : [https://docs.github.com/ko/authentication/keeping-your-account-and-data-secure/about-githubs-ip-addresses](https://docs.github.com/ko/authentication/keeping-your-account-and-data-secure/about-githubs-ip-addresses)

github action IP ì£¼ì†Œ ëª©ë¡ì— ëŒ€í•œ í† ë¡  : [https://github.com/orgs/community/discussions/26719](https://github.com/orgs/community/discussions/26719)

github actions ip ì£¼ì†Œ : [https://github.com/orgs/community/discussions/26719](https://github.com/orgs/community/discussions/26719)

github ip ì£¼ì†Œ ëª©ë¡ : [https://api.github.com/meta](https://api.github.com/meta)

êµ¬ê¸€ IP ì£¼ì†Œ : https://support.google.com/a/answer/10026322?hl=en

---

# Version2. ë²ˆì—­ ìë™í™” (with Translation API)

### ë¹„êµ

[[Translation API](https://cloud.google.com/translate/docs?hl=ko) ì•Œì•„ë³´ê¸°](https://www.notion.so/Translation-API-148041301c1b806d8bfdc501a786b225?pvs=21)

[[AutoML Translation](https://cloud.google.com/translate/automl/docs?hl=ko) ì•Œì•„ë³´ê¸°](https://www.notion.so/AutoML-Translation-148041301c1b807b9ba1dafc75cbcb9d?pvs=21)

[ê°€ê²©ì¸¡ì •](https://www.notion.so/148041301c1b80c28e15e2e417d147ff?pvs=21)

### ê²°ë¡ 

AutoMLì€ ì„±ëŠ¥ë„ í™•ì‹¤í•˜ì§€ ì•Šê³  íˆ¬ë¨¸ì¹˜ì„, Translation APIë¡œ ê²°ì •

Translation API + ìš©ì–´ì§‘ì„ ì‚¬ìš©í•´ì„œ ì´ˆë²Œì„ ë§Œë“¤ì

## ë²ˆì—­ ì´ˆë²Œ í”„ë¡œì„¸ìŠ¤

### 0. ìƒˆë¡œìš´ í‚¤ê°’ ì¶”ê°€ë˜ë©´ en, ja ë°°ê²½ìƒ ë…¸ë‘ìƒ‰ìœ¼ë¡œ í‘œì‹œ

```jsx
const UPDATE_ROW_BG = "#FFFF00";

function onEdit(e) {
  const sheet = e.source.getActiveSheet();
  const range = e.range; // ìˆ˜ì •ëœ ë²”ìœ„

  // íŠ¹ì • ì‹œíŠ¸ë§Œ ì ìš©
  if (sheet.getName() !== SHEET_TITLE) return;

  // ì¶”ê°€ëœ ì…€ì˜ ë°°ê²½ìƒ ìƒì„±
  if (range.getColumn() === 2) {
    const rowIndex = range.getRow();
    // ì¶”ê°€ëœ í‚¤ê°’ì˜ ì˜ë¬¸, ì¼ì–´
    sheet.getRange(rowIndex, 3).setBackground(UPDATE_ROW_BG);
    sheet.getRange(rowIndex, 4).setBackground(UPDATE_ROW_BG);
  }
}
```

### 1. ì‹œíŠ¸ì— ë¹ˆê°’ íŒŒì‹±

```jsx
  const sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(SHEET_TITLE);
  const data = sheet.getDataRange().getValues();

  // ì²« ë²ˆì§¸ í–‰ì€ í—¤ë”ë¡œ ì²˜ë¦¬
  const headers = data[0];
  // ë‘ë²ˆì§¸ í–‰ì€ title íŒ¨ìŠ¤


  // ë°ì´í„° ìˆœíšŒ (ì²« ë²ˆì§¸ í–‰ì€ í—¤ë”ì´ë¯€ë¡œ 1ë¶€í„° ì‹œì‘)
  for (let i = 2; i < data.length; i++) {
    let row = data[i];
    let koreanText = row[headers.indexOf(headers[1])]; // 'Text(í•œê¸€)' ì—´ì˜ ê°’
    let englishText = row[headers.indexOf(headers[2])]; // 'Text(ì˜ì–´)' ì—´ì˜ ê°’
    let japaneseText = row[headers.indexOf(headers[3])]; // 'Text(ì¼ì–´)' ì—´ì˜ ê°’

    if(!koreanText) return

     // ë¹ˆ ê°’ì€ ë²ˆì—­ ìš”ì²­ í›„ sheetì—…ë°ì´íŠ¸
    if (!englishText) {
      const enValue = translateText(koreanText, 'ko', 'en').replace(/Blood sugar/g, "Glucose Level").replace(/blood sugar/g, "glucose level")
    }

    if (!japaneseText){
      const jaValue = translateText(koreanText, 'ko', 'ja')
    }
  }
}
```

### 2. í•´ë‹¹ ê°’ translation APIë¡œ ìš”ì²­

```jsx
function translateText(text, sourceLanguage, targetLanguage) {
  // translation API
  const url = `https://translation.googleapis.com/language/translate/v2?key=${API_KEY}`;

  const payload = {
    q: text,
    source: sourceLanguage,
    target: targetLanguage,
    format: "text",
    name: `projects/5${PROJECT_NUMBER}/locations/${LOCATION}/glossaries/${GLOSSARY_ID}`,
  };

  const options = {
    method: "post",
    contentType: "application/json",
    payload: JSON.stringify(payload),
  };

  const response = UrlFetchApp.fetch(url, options);
  const json = JSON.parse(response.getContentText());

  return json.data.translations[0].translatedText;
}
```

### 3. í•´ë‹¹ ì‹œíŠ¸ì— ì—…ë°ì´íŠ¸

ì´ë•Œ auto Translation ì‚¬ìš©í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œë¦¬ê¸° ìœ„í•´ ë°°ê²½ìƒ‰ íŒŒë‘ìƒ‰ìœ¼ë¡œ í‘œì‹œ

```jsx
sheet.getRange(i + 1, 4).setValue(jaValue);
sheet.getRange(i + 1, 4).setBackground(AUTO_UPDATE_BG_COLOR);
```

ìˆ˜ì •í•˜ë©´ ë°°ê²½ìƒ‰ ì œê±°

```jsx
const UPDATE_ROW_BG = "#FFFF00";

function onEdit(e) {
  const sheet = e.source.getActiveSheet();
  const range = e.range; // ìˆ˜ì •ëœ ë²”ìœ„

  // íŠ¹ì • ì‹œíŠ¸ë§Œ ì ìš©
  if (sheet.getName() !== SHEET_TITLE) return;

  // bgê°€ ìˆëŠ” ì…€ì˜ ë³€ê²½ì´ ì¼ì–´ë‚˜ë©´ ë°°ê²½ìƒ‰ì„ ì œê±°
  if (range.getBackground()) {
    range.setBackground(null); // ê¸°ë³¸ ë°°ê²½ìƒ‰ìœ¼ë¡œ ì´ˆê¸°í™”
  }
}
```

### 4. ë²ˆì—­ ì™„ë£Œ ë˜ë©´ ëª¨ë“  ì…€ ë°°ê²½ìƒ‰ ì œê±°

```jsx
function clearAllCellBackgrounds() {
  const sheet =
    SpreadsheetApp.getActiveSpreadsheet().getSheetByName(SHEET_TITLE);

  // ì‹œíŠ¸ ì „ì²´ ë²”ìœ„ ê³„ì‚°
  const numRows = sheet.getMaxRows(); // ì‹œíŠ¸ì˜ ì´ í–‰ ìˆ˜
  const numCols = sheet.getMaxColumns(); // ì‹œíŠ¸ì˜ ì´ ì—´ ìˆ˜

  console.log(numRows, numCols);
  // í–‰ê³¼ ì—´ í¬ê¸°ì— ë§ëŠ” 2D ë°°ì—´ ìƒì„± (nullë¡œ ì´ˆê¸°í™”)
  const nullArray = Array.from({ length: numRows }, () =>
    Array(numCols).fill(null)
  );

  // ì‹œíŠ¸ ì „ì²´ ë²”ìœ„ ë°°ê²½ìƒ‰ ì´ˆê¸°í™”
  const range = sheet.getRange(1, 1, numRows, numCols); // A1ë¶€í„° ëª¨ë“  ì…€ ë²”ìœ„
  range.setBackgrounds(nullArray);

  console.log("ëª¨ë“  ì…€ì˜ ë°°ê²½ìƒ‰ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.");
}
```

## ë§Œì•½ ìš©ì–´ì§‘ì„ ì‚¬ìš©í•œë‹¤ë©´?

### Step1. ìš©ì–´ì§‘ ë§Œë“¬

Translation APIëŠ” API key ê°’ë§Œìœ¼ë¡œ ìš”ì²­ê³¼ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆì§€ë§Œ

ì§ì ‘ ì œì‘í•œ íŒŒì¼ì„ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ì§‘ì€ ê²½ìš°ëŠ” API Keyë§Œìœ¼ë¡œëŠ” ì•ˆë˜ê³  OAuth 2.0ì¸ì¦ ê³¼ì •ì´ ìˆì–´ì•¼ í•œë‹¤ (ì•„â€¦.)

â†’ ê·¸ë˜ì„œ **Translation API ê´€ë¦¬ì** ê¶Œí•œì´ ìˆëŠ” ì„œë¹„ìŠ¤ ê³„ì •ì„ ë§Œë“¤ì–´ì¤˜ì•¼í•¨

### Step2. ìš©ì–´ì§‘ìœ¼ë¡œ í…ìŠ¤íŠ¸ ë²ˆì—­

ì‹œíŠ¸ ë‚´ì—ì„œ ë²ˆì—­ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´

1. ì˜ë¬¸, ì¼ì–´ ë¹ˆ ì‹œíŠ¸ ì°¾ê¸°
2. í•´ë‹¹ ì‹œíŠ¸ ê°’ë“¤ clund Translation API request ìš”ì²­
3. responseê°’ë“¤ í•´ë‹¹ ì‹œíŠ¸ì— ì¶”ê°€
4. ì¶”ê°€ëœ cell íŒŒë‘ ìƒ‰ê¹”ë¡œ í‘œì‹œ

---

### ì°¸ê³ 

- Gemini: ê¸°ì¡´ ë²ˆì—­ë³¸ìœ¼ë¡œ íŒŒì¸íŠœë‹ í›„ ìƒˆë¡œì¶”ê°€ëœ í‚¤ê°’ ë²ˆì—­ ìš”ì²­
  - translation API : https://cloud.google.com/translate/docs?hl=ko
    - ìš©ì–´ì§‘ ì‚¬ìš© : https://cloud.google.com/translate/docs/advanced/glossary?hl=ko
  - AutoML Translationì„í†µí•´ í•™ìŠµ í›„ ë²ˆì—­ ìš”ì²­ : https://cloud.google.com/translate/automl/docs?hl=ko
  - ë‘ê°€ì§€ ë¹„êµ : https://cloud.google.com/translate/automl/docs/beginners-guide?hl=ko
  - ì»¤ìŠ¤í…€ ì§€ì› ì–¸ì–´ : https://cloud.google.com/translate/automl/docs/languages?hl=ko
  - í•œê¸€ â†’ ì˜ì–´, ì˜ì–´ â†’ ì¼ë³¸ì–´ ë¡œ í•´ì•¼í•¨
- ê°€ê²© ì‚°ì •í•˜ì
  - í•™ìŠµë¹„ìš© ì–¼ë§ˆì •ë„ ë‚˜ì˜¬ì§€ ì²´í¬
  - ë‹¤ë¥¸ ë¬´ë£Œ ì„œë¹„ìŠ¤ APIë“¤ê³¼ ë¹„êµ

AutoML : https://cloud.google.com/translate/automl/docs?hl=ko

# Version3. ë¼ì´ë¸ŒëŸ¬ë¦¬ í™”

## + í™•ì¥

ë‹¤ë¥¸ íŒ€ì—ì„œë„ ì“°ê²Œ í•˜ë ¤ë©´??(IOS, AOS, BE)

í¬ê²Œ ë‘ê°€ì§€ ê³¼ì •ì´ ìˆë‹¤

1. ì†ŒìŠ¤ì½”ë“œ â†’ ì—‘ì…€
   - ì†ŒìŠ¤ì½”ë“œ ì‘ì„±
   - ë‹¤êµ­ì–´ íŒŒì¼ì— ì¶”ê°€
   - ì—‘ì…€ íŒŒì¼ì— ì¶”ê°€
2. ì—‘ì…€ â†’ ì†ŒìŠ¤ì½”ë“œ
   - ë²ˆì—­ê°€ â†” ê°œë°œì ì—°ë½
   - ì—‘ì…€ì— ë²ˆì—­ ì¶”ê°€
   - ì—‘ì…€ íŒŒì¼ë¡œ ë³€ê²½ í›„ ì†ŒìŠ¤ì½”ë“œì— ì¶”ê°€

2ë²ˆì€ ê°€ëŠ¥. 1ë²ˆì€ ê° ì–¸ì–´ë§ˆë‹¤ ë‹¤ë¦„

### í”¼ë“œë°± ë°˜ì˜

- [ ] ë´‡ìœ¼ë¡œ ë°”ê¿”ì„œ ë‚˜ë„ ë¦¬ë·°ì–´ì— ì¶”ê°€ë˜ë„ë¡ í•˜ê¸°
      â‡’ ì´ê±°í•˜ë ¤ë©´ ë´‡ ê³„ì • ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ ë˜ëŠ”ë° í—ˆê°€ í•„ìš”

ê¸‰í•œì¼ë§Œ ì³ë‚´ê³ â€¦ ì‘ì—…í•˜ìâ€¦

---

[ë²ˆì—­ ê°œì„  ê³µìœ  ìë£Œ(ê°œë°œì)](https://www.notion.so/127041301c1b809f99dacda69eb3409b?pvs=21)

[ë²ˆì—­ ê°œì„  ê³µìœ  ìë£Œ(ë²ˆì—­ê°€)](https://www.notion.so/134041301c1b80efb003c2351ce40a59?pvs=21)
