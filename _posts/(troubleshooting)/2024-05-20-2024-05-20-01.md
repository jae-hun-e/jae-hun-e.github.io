---
title: "PDF...ì‚½ì§ˆì˜ ê¸°ë¡â€¦"
categories:
  - thinking-talk
tag: [PDF, Next]
---

# 05/20 ë°œí‘œ - ì´ë“ /ì‚½ì§ˆì˜ ê¸°ë¡â€¦

## 1. PDF ë„ˆâ€¦ ì´ìì‹â€¦!

## ë¬¸ì œ

PDFê°€ ì¼ë¶€ë§Œ ë³´ì—¬ì§€ê³  ì§¤ë ¤ì„œ ë³´ì„

![HCMONEYBALL-4240](/images/2024-05-20-2024-05-20-01/Untitled.png)

[https://jira.daumkakao.com/browse/HCMONEYBALL-4240](https://jira.daumkakao.com/browse/HCMONEYBALL-4240)

ì—¬ê¸°ëŠ” ë‘ê°œ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

_1) 'ì¼ë¶€ë§Œ'_ â‡’ pdfê°€ í•œ í˜ì´ì§€ê¹Œì§€ë§Œ ìƒì„±ë¨

```tsx
// pdf.ts

const doc = new jsPDF("p", "mm", "a4", true);
const paperElements = document.querySelectorAll(
  `.preview-page`
) as NodeListOf<HTMLElement>;
// í˜ì´ì§€ ì¶œë ¥
for (let el of paperElements) {
  const canvas = await html2canvas(el, { scale: 2 });

  const imgData = canvas.toDataURL("image/png");
  const imgWidth = 210; // ì´ë¯¸ì§€ ê°€ë¡œ ê¸¸ì´(mm) A4 ê¸°ì¤€
  const imgWidthRatio = 210 / canvas.width;
  const pageHeight = imgWidthRatio * canvas.height;

  doc.addPage();
  doc.addImage(imgData, "jpeg", 0, 0, imgWidth, pageHeight);
}

doc.deletePage(1); // ì²«ë²ˆì§¸ ìƒì„± ì´ë¯¸ì§€ ì‚­ì œ
```

ê¸°ì¡´ì˜ ë¡œì§ì—ì„œëŠ” addPage()ë¡œ í˜ì´ì§€ë¥¼ ë§Œë“¤ê³  imageë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

ì´ë¥¼ a4ì‚¬ì´ì¦ˆë§Œí¼ ì—¬ëŸ¬ì¥ìœ¼ë¡œ ë§Œë“¤ë ¤ë©´ ì´ë¯¸ì§€ê°€ a4 ì‚¬ì´ì¦ˆë¥¼ ë„˜ì–´ê°ˆ ë•Œ ì˜ë¼ ì£¼ë©´ ë©ë‹ˆë‹¤.

```tsx
for (let el of paperElements) {
  const canvas = await html2canvas(el, { scale: 2 });

  const imgData = canvas.toDataURL("image/png");

  const imgWidth = 210;
  const pageHeight = 297;
  const imgHeight = (canvas.height * imgWidth) / canvas.width;
  let heightLeft = imgHeight;
  let position = 0;
  doc.addImage(imgData, "jpeg", 0, 0, imgWidth, imgHeight);
  heightLeft -= pageHeight;
  while (heightLeft >= 0) {
    position = heightLeft - imgHeight;
    doc.addPage();
    doc.addImage(imgData, "jpeg", 0, position, imgWidth, imgHeight);
    heightLeft -= pageHeight;
  }
}
```

2. '_ì§¤ë ¤ì„œ'_ â‡’ ìš”ì†Œ ì¤‘ê°„ì„ ì§¤ë¼ë²„ë¦¼

ì´ì¹œêµ¬ê°€ ì‚¬ê³¤ë°â€¦

ìœ„ì˜ ë°©ë²•ìœ¼ë¡œ ì—¬ëŸ¬ í˜ì´ì§€ì— ë°ì´í„°ë¥¼ ë‚˜ëˆ ë„â€¦ ì§¤ë¦¬ëŠ”ê±´ ë™ì¼í•©ë‹ˆë‹¤.

![Untitled](/images/2024-05-20-2024-05-20-01/Untitled%201.png)

[PastaConnect_Report_20240518_1834.pdf](PastaConnect_Report_20240518_1834.pdf)

## ë¬¸ì œì˜ ì›ì¸

1)ì€ íŒ¨ìŠ¤í•˜ê³  2)ë¬¸ì œì˜ ì›ì¸ì„ ì‚´í´ë³´ë©´ ìš°ë¦¬ê°€ pdfë¥¼ ë§Œë“œëŠ” ë°©ì‹ì€

1ï¸âƒ£ preview html ìš”ì†Œ(+ag-grid) ë Œë”ë§

2ï¸âƒ£ html2canvasì—ì„œ DOMì—ì„œ ì½ì€ ì†ì„±ì„ ìŠ¤í¬ë¦° ìƒ·ì°ìŒ

3ï¸âƒ£ jsPdfë¥¼ í†µí•´ 2ï¸âƒ£ì—ì„œ ì°ì€ ì´ë¯¸ì§€ë¥¼ pdfë¡œ ë§Œë“¬

ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

1)ì—ì„œ ì‹œë„í•œ ë°©ì‹ì€ 2ï¸âƒ£ â†’ 3ï¸âƒ£ ì‹œì— a4ì‚¬ì´ì¦ˆë§Œí¼ ì´ë¯¸ì§€ë¥¼ ë‹¨ìˆœíˆ ìë¥¸ ê²ƒì´ê¸° ë•Œë¬¸ì— ìš”ì†Œê°€ ì§¤ë ¤ì„œ ë‚˜ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ëŸ° í˜„ìƒì„ ìš°ë¦¬ë§Œ ê²ªì—ˆì„ë¦¬ ì—†ë‹¤..!ë¼ëŠ” í¬ë§ìœ¼ë¡œ êµ¬ê¸€ë§ ì¤‘ jsPdfì—ì„œ í•œê°€ì§€ ì´ìŠˆë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.

![[https://github.com/parallax/jsPDF/issues/1699](https://github.com/parallax/jsPDF/issues/1699)](/images/2024-05-20-2024-05-20-01/Untitled%202.png)

[https://github.com/parallax/jsPDF/issues/1699](https://github.com/parallax/jsPDF/issues/1699)

ì–´ì–´ì–´â€¦!!!!

### html2pdf ë„ˆë¼ë©´..?

![2013-11-03_163B303B54.jpg](/images/2024-05-20-2024-05-20-01/2013-11-03_163B303B54.jpg)

ì´ê±°ë‹¤..! í•˜ê³  ë„íŒŒë¯¼ í„°ì§€ë©° html2pdfë¥¼ ì—´ì‹¬íˆ ì°¾ì•˜ìŠµë‹ˆë‹¤.

ì°¾ì€ html2pdf.js ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í•´ë‹¹ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ì‹ ë‚˜ì„œ ë°”ë¡œ ì ìš©ì„ í•´ë´¤ìŠµë‹ˆë‹¤.

![[https://ekoopmans.github.io/html2pdf.js/#page-breaks](https://ekoopmans.github.io/html2pdf.js/#page-breaks)](/images/2024-05-20-2024-05-20-01/Untitled%203.png)

[https://ekoopmans.github.io/html2pdf.js/#page-breaks](https://ekoopmans.github.io/html2pdf.js/#page-breaks)

ê¸‰í•˜ê²Œ ë¨¼ì € í˜ì´ì§€ê°€ ì œëŒ€ë¡œ ë‚˜ëˆ ì§€ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ `MealPattern` ì—ë§Œ ë°”ë¡œ ì ìš©í•´ë´¤ìŠµë‹ˆë‹¤.

ì‹¬ì§€ì–´ ì‚¬ìš©ë²•ë„ ë§¤ìš° ê°„ë‹¨í–ˆìŠµë‹ˆë‹¤!!!!!! (ë„íŒŒë¯¼ í­íŒ”.)

```tsx
const paperElements = document.querySelectorAll(
  `.preview-content-2`
) as NodeListOf<HTMLElement>;

const opt = {
  filename: `PastaConnect_Report_${dayjs().format("YYYYMMDD_HHmm")}.pdf`,
  image: { type: "jpeg" },
  html2canvas: { scale: 2 },
  jsPDF: { unit: "mm", format: "a4", orientation: "portrait", compress: true },
  pagebreak: { mode: "avoid-all" },
};
const doc = html2pdf().from(paperElements[0]).set(opt);
```

ë°”ë¡œ ì ìš©í•´ë³´ë‹ˆ

![íííí«,,ã…ã…](/images/2024-05-20-2024-05-20-01/SE-4324cba3-17f2-4e9d-9568-633e8365fe30.jpg)

íííí«,,ã…ã…

![ì´ê²Œ ë˜ë„¤??](/images/2024-05-20-2024-05-20-01/Untitled%204.png)

ì´ê²Œ ë˜ë„¤??

[á„ƒá…«á†»á„ƒá…¡..!.pdf](%25E1%2584%2583%25E1%2585%25AB%25E1%2586%25BB%25E1%2584%2583%25E1%2585%25A1..!.pdf)

ë‚˜ëˆ ì§„ë‹¤!!!!!!

í•˜ì§€ë§Œ ì˜¤ë¥¸ìª½ì— ì´ë¯¸ì§€ê°€ ê¹¨ì§€ëŠ” í˜„ìƒì´ ìˆìŠµë‹ˆë‹¤.

ì´ì •ë„ì•¼ ë­~~ ì´ë¯¸ì§€ a4ì‚¬ì´ì¦ˆë¡œ ë§ì¶”ë©´ ë˜ê² ì§€~~~~~(í–‰ë³µíšŒë¡œ í’€ê°€ë™)í•˜ê³  ì‚¬ì´ì¦ˆë¥¼

ì´ë¯¸ì§€ì˜ ì‚¬ì´ì¦ˆë¥¼ ë°”ê¿”ë´¤ì§€ë§Œ jsPdfì˜ addImageì™€ëŠ” ë‹¤ë¥´ê²Œ ì´ë¯¸ì§€ë¥¼ jsPdf formatì— ë§ì¶° ì••ì¶•ì´ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤..

ê·¸ëŸ¬ë˜ ë„ì¤‘ html2pdf.jsì—ì„œ ì´ìŠˆí•˜ë‚˜ë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤,,,

![https://github.com/eKoopmans/html2pdf.js/issues/6](/images/2024-05-20-2024-05-20-01/Untitled%205.png)

[https://github.com/eKoopmans/html2pdf.js/issues/6](https://github.com/eKoopmans/html2pdf.js/issues/6)

ìœ„ì˜ ì´ìŠˆ ë‚´ìš©ì„ ìš”ì•½í•˜ìë©´

> ì´ë¯¸ì§€ë¥¼ pdfì— ë§ì¶°ì„œ ì¤„ì´ê³  ì‹¶ë‹¤ â†’ ë§Œë“¤ ì˜ˆì •ì´ë‹¤ í•˜ì§€ë§Œ ì•„ì§ì€ ì•„ë‹ˆë‹¤ (2017.05)

ê·¸ë¦¬ê³  7ë…„ì´ ì§€ë‚œ 2024ë…„ì˜ ì €ëŠ” ì´ì œì„œì•¼ ë„íŒŒë¯¼ì— ì¤‘ë…ë˜ì„œ ë³´ì´ì§€ ì•Šë˜ ê²Œ ë³´ì´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤

![??](/images/2024-05-20-2024-05-20-01/Untitled%206.png)

??

ì•„.. ë²„ë ¤ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬êµ¬ë‚˜..

![ì•„ì•ˆëŒ€.>!!](/images/2024-05-20-2024-05-20-01/20230812091617120mgso.gif)

ì•„ì•ˆëŒ€.>!!

ì ˆë§í•˜ë˜ ì°°ë‚˜ì— img â†’ pdfë¡œ ì‚¬ì´ì¦ˆë¥¼ ë§ì¶œ ìˆ˜ ì—†ë‹¤ë©´ pdf â†’ imgë¡œ ì‚¬ì´ì¦ˆë¥¼ ë§ì¶˜ë‹¤ë©´??

ë¼ëŠ” ìƒê°ìœ¼ë¡œ pdfë¥¼ a4ì‚¬ì´ì¦ˆê°€ ì•„ë‹Œ imgì— width ì‚¬ì´ì¦ˆì— ë§ì¶”ê³  a4 ë¹„ìœ¨ë§Œí¼ heightë¥¼ ì •í•´ì„œ ë‚˜ì¤˜ì¤¬ìŠµë‹ˆë‹¤.

![íìŒâ€¦](/images/2024-05-20-2024-05-20-01/Untitled%207.png)

íìŒâ€¦

[á„‡á…µá„á…¡á†·á„’á…¡á„€á…®á„†á…¡á†«...pdf](%25E1%2584%2587%25E1%2585%25B5%25E1%2584%258E%25E1%2585%25A1%25E1%2586%25B7%25E1%2584%2592%25E1%2585%25A1%25E1%2584%2580%25E1%2585%25AE%25E1%2584%2586%25E1%2585%25A1%25E1%2586%25AB...pdf)

ê·¸ë ‡ê²Œ ë°˜ìª½ ì§œë¦¬ í•´ê²°ì„ í•˜ê³  1ì°¨ì „ì„ ë§ˆë¬´ë¦¬ í–ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ë„ ì–»ì€ ê±´ ìˆìŠµë‹ˆë‹¤.

1. ag-gridì˜ ìš”ì†Œë³„ë¡œ page-breakë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” í¬ë§
2. page-breakë¥¼ í•´ì£¼ëŠ” ê±´ jsê°€ ì•„ë‹ˆë¼ cssì˜ page-break ì†ì„±ê°’ìœ¼ë¡œ ê²°ì •í•œë‹¤ëŠ” ì •ë³´

ê·¸ë¦¬ê³  ê±°ìŠ¤, ì œë¡œì—ê²Œ ê³µìœ  í›„ ì œë¡œì™€ í•¨ê»˜ 2ì°¨ì „ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

## 2ì°¨ì „ ì‹œì‘

1ì°¨ì „ì—ì„œ ì–»ì€ ì •ë³´ë¥¼ í† ëŒ€ë¡œ 2ì°¨ì „ì—ì„œ í•´ë³¼ ì‹œë„ë“¤ì„ ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤.

### ì‹œë„í•´ë³´ê¸°

1. cssì˜ page-break ì†ì„± ë™ì‘ë°©ì‹ ì•Œì•„ë³´ê¸°
2. html2pdf ì†ŒìŠ¤ì½”ë“œë¥¼ ê¹Œë³´ê¸°
3. ìƒˆë¡œìš´ ë°©ì‹ì˜ ì ‘ê·¼

### **page-break íŠ¸ë¦¬ê±°**

êµ¬ page-break-inside í˜„ break-inside ì†ì„±ì€ í•´ë‹¹ ìš”ì†Œ ë‚´ì—ì„œ í˜ì´ì§€ ë‚˜ëˆ„ê¸°, ì—´ ë‚˜ëˆ„ê¸° ê°™ì€ ì˜ì—­ ë‚˜ëˆ„ê¸°ê°€ ë°œìƒí•´ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

page-break-inside : avoid;

break-inside : avoid;

ë¥¼ í•˜ë©´ í˜ì´ì§€ë¥¼ ë‚˜ëˆŒ ë•Œ ìš”ì†Œê°€ ê±¸ì³ìˆìœ¼ë©´ ë‚˜ëˆ ì§€ì§€ ì•Šê³  ë‹¤ìŒ í˜ì´ì§€ì— ì˜¨ì „íˆ ë„˜ì–´ì˜¤ê²Œ ë©ë‹ˆë‹¤.

![ì¶œì²˜ : http://www.mins01.com/mh/tech/read/1360](/images/2024-05-20-2024-05-20-01/Untitled%208.png)

ì¶œì²˜ : [http://www.mins01.com/mh/tech/read/1360](http://www.mins01.com/mh/tech/read/1360)

MDNì„¤ëª… : [https://developer.mozilla.org/en-US/docs/Web/CSS/break-inside](https://developer.mozilla.org/en-US/docs/Web/CSS/break-inside)

ë” í™•ì‹¤í•œ ì„¤ëª…ì„ ìœ„í•´ CSS ìŠ¤íŒ©ì„ ì°¾ì•„ë³´ë©´

![ì°¸ê³ (CSS ìŠ¤íŒ©): https://drafts.csswg.org/css-break/](/images/2024-05-20-2024-05-20-01/Untitled%209.png)

ì°¸ê³ (CSS ìŠ¤íŒ©): [https://drafts.csswg.org/css-break/](https://drafts.csswg.org/css-break/)

ìœ„ì™€ ê°™ì´ ì„¤ëª…ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤. ë”± ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê¸°ëŠ¥ì´ì£ ã… ã… 

ì´ ì†ì„±ì´ ì ìš©ë˜ëŠ” breaking pointë„ ì°¾ì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

![ì°¸ê³ (CSS ìŠ¤íŒ©): https://drafts.csswg.org/css-break/](/images/2024-05-20-2024-05-20-01/Untitled%2010.png)

ì°¸ê³ (CSS ìŠ¤íŒ©): [https://drafts.csswg.org/css-break/](https://drafts.csswg.org/css-break/)

ìš”ì•½í•˜ìë©´ ì¡°ê°í™”ëŠ” ë¸”ë¡ ë° ì¸ë¼ì¸ ì°¨ì›ì—ì„œë§Œ ë¶„í• ì´ ë˜ë©°

ê°€ëŠ¥í•œ ì¤‘ë‹¨ì ì€ ë¸”ë¡ ì»¨í…Œì´ë„ˆ ì‚¬ì´ê°€ í˜ì´ì§€ë¥¼ ë‚˜ëˆŒ ë•Œ, ì—´ì„ ë‚˜ëˆŒ ë•Œ, ì§€ì—­ì„ êµ¬ë¶„í•  ë•Œ(ì§€ì—­ì€ ë¬´ìŠ¨ë§ì¸ì§€ ëª¨ë¥´ê² ì–´ìš”â€¦)ì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ì¡°ê°í™”ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ”

1. ì´ë¯¸ì§€, ë¹„ë””ì˜¤
2. ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìš”ì†Œ
3. í•œ ì¤„ì˜ í…ìŠ¤íŠ¸
4. ì¸ë¼ì¸ ë¸”ë¡, ì¸ë¼ì¸ í…Œì´ë¸” ìƒì
5. ë„ˆë¬´ í° ìš”ì†Œ

ë“±ì´ ìˆìŠµë‹ˆë‹¤.

ag-gridì—ì„œë„ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ domLayoutì´ë¼ëŠ” ì†ì„±ì´ ìˆê³  print ê°’ì„ ë„£ì–´ì£¼ë©´ ìŠ¤í¬ë¡¤ì´ í’€ë¦¬ë©° printìš©ìœ¼ë¡œ ë ˆì´ì•„ì›ƒì„ ë³€ê²½í•˜ëŠ” ì‹ìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

[á„’á…ªá„†á…§á†« á„€á…µá„…á…©á†¨ 2024-05-18 á„‹á…©á„’á…® 9.39.06.mov](%25E1%2584%2592%25E1%2585%25AA%25E1%2584%2586%25E1%2585%25A7%25E1%2586%25AB_%25E1%2584%2580%25E1%2585%25B5%25E1%2584%2585%25E1%2585%25A9%25E1%2586%25A8_2024-05-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.39.06.mov)

ag-gridì˜ page-break : [https://www.ag-grid.com/react-data-grid/printing/#page-break](https://www.ag-grid.com/react-data-grid/printing/#page-break)

### **html2pdf ì†ŒìŠ¤ì½”ë“œë¥¼ ê¹Œë³´ê¸°**

html2pdfë¼ëŠ” ë²„ë ¤ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì— ì–´ë–»ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•´ ì™”ëŠ”ì§€ë§Œ ì°¸ê³ í•´ì„œ í•©ì³ë³´ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.

page-breakë¥¼ í•˜ëŠ” í•µì‹¬ ë¡œì§ì€ ì´ë¶€ë¶„ì…ë‹ˆë‹¤.

```tsx
Worker.prototype.toContainer = function toContainer() {
  return orig.toContainer.call(this).then(function toContainer_pagebreak() {
    // Setup root element and inner page height.
    var root = this.prop.container;
    var pxPageHeight = this.prop.pageSize.inner.px.height;

    // Check all requested modes.
    var modeSrc = [].concat(this.opt.pagebreak.mode);
    var mode = {
      avoidAll: modeSrc.indexOf("avoid-all") !== -1,
    };

    // Get all legacy page-break elements.
    var legacyEls = root.querySelectorAll(".html2pdf__page-break");
    legacyEls = Array.prototype.slice.call(legacyEls);

    // Loop through all elements.
    var els = root.querySelectorAll("*");
    Array.prototype.forEach.call(els, function pagebreak_loop(el) {
      // Setup pagebreak rules based on legacy and avoidAll modes.
      var rules = { avoid: mode.avoidAll };

      // Add rules for css mode.
      if (mode.css) {
        rules = { avoid: rules.avoid };
      }

      // ë·°í¬íŠ¸ì™€ ìƒëŒ€ì  ìœ„ì¹˜ì •ë³´ ì œê³µ
      var clientRect = el.getBoundingClientRect();

      // Avoid: Check if a break happens mid-element.
      if (rules.avoid && !rules.before) {
        var startPage = Math.floor(clientRect.top / pxPageHeight);
        var endPage = Math.floor(clientRect.bottom / pxPageHeight);
        var nPages =
          Math.abs(clientRect.bottom - clientRect.top) / pxPageHeight;

        // Turn on rules.before if the el is broken and is at most one page long.
        if (endPage !== startPage && nPages <= 1) {
          rules.before = true;
        }
      }

      // Before: Create a padding div to push the element to the next page.
      if (rules.before) {
        var pad = createElement("div", {
          style: {
            display: "block",
            height: pxPageHeight - (clientRect.top % pxPageHeight) + "px",
          },
        });
        el.parentNode.insertBefore(pad, el);
      }
    });
  });
};
```

ê·¸ë¦¬ê³  html2pdfê°€ ì‘ë™í•˜ëŠ” ìˆœì„œë¥¼ ë³´ë©´

![Untitled](/images/2024-05-20-2024-05-20-01/Untitled%2011.png)

.toContainer() ì´í›„ .toCanvas()ë¥¼ í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**_ë¯¸ë¦¬ ìš”ì†Œë¥¼ ì§¤ë¦¬ì§€ ì•Šê²Œ í˜ì´ì§€ë¥¼ ë‚˜ëˆˆ í›„(íŒ¨ë”©ì„ ì£¼ëŠ”ì‹ìœ¼ë¡œ formatì— ë§ì¶¤) canvasë¡œ ê·¸ë ¤ë‚´ê³  pdfë¥¼ ë§Œë“œëŠ” ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤._**

### **ìƒˆë¡œìš´ ë°©ì‹ì˜ ì ‘ê·¼**

ë¨¼ì € ag-gridì— ìˆëŠ” `domLayout = "print"` ì†ì„±ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ë¥¼ ê¹Œë³´ë‹ˆ

ag-layout-printë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ì—¬

css ì†ì„±ì„ ë³€ê²½í•˜ëŠ” ì‹ìœ¼ë¡œ ì‘ë™í–ˆìŠµë‹ˆë‹¤.

```css
/*ag-grid*/
.ag-layout-print {
  &.ag-body {
    display: block;
    height: unset;
  }

  &.ag-root-wrapper {
    /* this has to be inline-block otherwise the grid gets constrained by
        the viewport (AG-5616) and other values like `inline-flex` will add a
        small gap at the top (AG-9296) */
    display: inline-block;
  }

  .ag-body-vertical-scroll {
    display: none;
  }

  .ag-body-horizontal-scroll {
    display: none;
  }

  &.ag-force-vertical-scroll {
    overflow-y: visible !important;
  }
}

@media print {
  .ag-root-wrapper.ag-layout-print {
    display: table;

    .ag-root-wrapper-body,
    .ag-root,
    .ag-body-viewport,
    .ag-center-cols-container,
    .ag-center-cols-viewport,
    .ag-body-horizontal-scroll-viewport,
    .ag-virtual-list-viewport {
      /* Need auto height because 100% height elements with overflow hidden
      cause printing issues in Edge */
      height: auto !important;
      /* Overflow hidden, because otherwise scroll bars print in IE */
      overflow: hidden !important;
      /* flex elements cause printing issues in Firefox
            https://bugzilla.mozilla.org/show_bug.cgi?id=939897 */
      display: block !important;
    }
    .ag-row,
    .ag-cell {
      break-inside: avoid;
    }
  }
}
```

ì—¬ê¸°ì„œë„ ì•Œ ìˆ˜ ìˆë“¯, ê²°êµ­ page-breakë¥¼ í•´ì£¼ê¸° ìœ„í•´ì„œ break-inside, display, height, overflow ì†ì„±ì„ ë³€ê²½í•˜ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤â€¦ã…œã…œ

ag-gridì»¤ë®¤ë‹ˆí‹°ì— pdfmakeë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ êµ¬í˜„í•œ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤.

[Exporting AG Grid to PDF with pdfMake](https://blog.ag-grid.com/exporting-ag-grid-to-pdf/)

ì´ê²ƒë„ ì‘ë™ ë°©ì‹ì„ ë³´ë‹ˆ ag-gridì˜ ê°’ë“¤ì„ ê°€ê³µí•´ì„œ ê°œë³„ í˜ì´ì§€ ë§Œí¼ ìë¥¸ í›„ documentë¥¼ ìƒì„± í›„ pdfMakeì—ê²Œ ë³´ë‚´ì„œ pdfë¥¼ ë§Œë“­ë‹ˆë‹¤.

ì—¬ëŸ¬ ì‚½ì§ˆ ëì— ì–»ì€ ê²°ë¡ ì€â€¦

ê²°êµ­ 'ì´ë¯¸ì§€ë¡œ ë§Œë“¤ê¸° ì „' or 'pdfë¡œ ë§Œë“¤ê¸° ì „'ì— ì •í•´ì§„ ì˜ì—­ë§Œí¼ ë‚˜ëˆ ì•¼ì§€ë§Œ ì§¤ë¦¼í˜„ìƒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤â€¦ ë¼ëŠ” ê²°ë¡ ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤.

ê·¸ ê³¼ì •ì—ì„œ css ìŠ¤íŒ©ì— ëª…ì‹œë˜ì–´ìˆëŠ” page-break ì¤‘ë‹¨ì  ë¶€ë¶„ì„ ì‚´í´ë³´ë©´ í˜ì´ì§€ ë¿ë§Œ ì•„ë‹ˆë¼ ìš°ë¦¬ê°€ ì •í•œ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ? í•˜ëŠ” ê¸°ëŒ€ê°€ ìˆìŠµë‹ˆë‹¤,,,ğŸ¥¹

## 2. next-i18nextì—ê²Œ ë’·í†µìˆ˜ ë§ì€ ì°

next-i18nextì—ì„œ ì„¤ì •ë°”ê¾¸ë©´ accept-language ê¸°ì¤€ìœ¼ë¡œ localeì •í•  ìˆ˜ ìˆë‹¤ê³  í–ˆì§€ë§Œâ€¦ localeë§Œ ë°”ë€”ë¿ langëŠ” urlì„ ë”°ë¼ê°‘ë‹ˆë‹¤ã…œ (í•´ì¤€ë‹¤ë©”ì—ì—ì—!!!!)

![ì—ì‰ ì¯§ì¯§ì¯§,,,](/images/2024-05-20-2024-05-20-01/download.jpg)

ì—ì‰ ì¯§ì¯§ì¯§,,,

### ë¬¸ì œ

> urlì— jaë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ì¼ì–´ í°íŠ¸ê°€ ê¹¨ì§€ëŠ” í˜„ìƒ(bodyì— font ì ìš©ì´ ì•ˆë¨)

í°íŠ¸ê°€ ê¹¨ì§€ëŠ” ìƒí™©ì„ ì •ë¦¬í•˜ë©´

|       | url included | ë¸Œë¼ìš°ì € ì–¸ì–´ | ì´ˆê¸°ë Œë”ë§ lang | ì´í›„ ë Œë”ë§ lang |          |
| ----- | ------------ | ------------- | --------------- | ---------------- | -------- |
| case1 | ja           | ja            | en              | ja               | í°íŠ¸ê¹¨ì§ |
| case2 | ja           | ko            | en              | ja               |          |
| case3 | ko           | ja            | en              | ko               | í°íŠ¸ê¹¨ì§ |
| case4 | ko           | ko            | en              | ko               |          |

case1, 3ì¸ê²½ìš°ì— ê¹¨ì§€ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì›ì¸

í°íŠ¸ê°€ ê¹¨ì§€ëŠ” ì´ìœ ëŠ” html langê°€ ì œëŒ€ë¡œ ì…ë ¥ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤!! (ëŒ€ì¥ë‹˜ì§±)

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‘ê°€ì§€ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.

1. ì´ˆê¸° ë Œë”ë§ ì‹œ í°íŠ¸ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ

: \_ducument.tsxì— html langê°€ enìœ¼ë¡œ ê³ ì •ë˜ì–´ìˆì—ˆê³ , next-i18nextê°€ ì‘ë™í•˜ëŠ” ì‹œì ì´ \_document ì´í›„ ì´ê¸° ë•Œë¬¸ì— ì´ˆê¸° ë Œë”ë§ ì‹œì— `accept-language`ê°€ ì ìš©ì´ ì•ˆëìŠµë‹ˆë‹¤.

2. ì´í›„ ë Œë”ë§ ì‹œ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ

í˜„ì¬ êµ¬ì„±ë˜ì–´ìˆëŠ” next-i18nextì—ì„œ ì–¸ì–´ë¥¼ ë³€ê²½í•˜ëŠ” ë¡œì§ì´ [sub-path Routing](https://nextjs.org/docs/pages/building-your-application/routing/internationalization#sub-path-routing)ì„ ë”°ë¥´ë©° ìë™ ë¡œì¼€ì¼ ê°ì§€ë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤.(`localeDetection: true` (ê¸°ë³¸ê°’))

ì´ê²Œ ë™ì‘í•˜ëŠ” ë°©ì‹ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ **'ë£¨íŠ¸'**ë¥¼ ë°©ë¬¸í–ˆì„ ë•Œ `accept-language`ë¥¼ ê°ì§€í•˜ê³ 

1. `locales` ë°°ì—´ ì•ˆì— ìˆëŠ” ê°’ì´ ìˆìœ¼ë©´ localeì´ ë¶™ì€ ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹œì¼œì£¼ë©° ì´í›„ í•˜ìœ„ ê²½ë¡œ ë¼ìš°íŒ…í•©ë‹ˆë‹¤.

2. `locales`ë°°ì—´ ì•ˆì— ì—†ì„ ê²½ìš° `defaultLocale`ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ë©ë‹ˆë‹¤. ì´ë•Œ ê°ê° í˜ì´ì§€ì—ì„œ SSR, SSGë¥¼ í†µí•´ localesì€ ë§ì·„ì§€ë§Œ `lang`ëŠ” `defaultLocale` ê·¸ëŒ€ë¡œ ë”°ë¼ê°‘ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ê²°ê³¼ SSRì‹œì—ëŠ” accept-languageë¥¼ ë”°ë¼ langê°€ ê²°ì •ë˜ì§€ë§Œ í•˜ì´ë“œë ˆì´ì…˜ ì´í›„ urlì„ ë”°ë¼ langê°€ ë³€ê²½ ë©ë‹ˆë‹¤.(urlì— ko, en, ja ê°€ í¬í•¨ì•ˆë˜ì–´ìˆìœ¼ë©´ `deafultLocale`ê°’ì¸ ko ì„ íƒ)

(ì°¸ê³  : [https://nextjs.org/docs/pages/building-your-application/routing/internationalization#automatic-locale-detection](https://nextjs.org/docs/pages/building-your-application/routing/internationalization#automatic-locale-detection))

ì´ë•Œ ì˜ë£Œì§„ ëª¨ë“œì˜ ê°ê° í™˜ì ì •ë³´ë¥¼ ë“¤ì–´ê°ˆ ê²½ìš° routerë¥¼ í†µí•œê²Œ ì•„ë‹Œ window.openìœ¼ë¡œ ìƒˆì°½ì´ ì—´ë¦¬ë©° ë¡œì¼€ì¼ì´ í’€ë¦½ë‹ˆë‹¤.

â‡’ í˜„ì¬ ì„ì‹œë¡œ window.openì„ `accept-language` ê¸°ì¤€ìœ¼ë¡œ ë¡œì¼€ì´ì…˜ì´ ë¶™ì€ urlë¡œ ë³´ë‚´ë„ë¡ utilí™”í•´ í•´ê²°í•œ ìƒíƒœì…ë‹ˆë‹¤.

### ê²°ê³¼

ì›ì¸1) ì´ˆê¸° ë Œë”ë§ ì‹œì— langì— `accept-language` ì ìš©

ì´ë¥¼ ìœ„í•´ \_documentê°€ ë Œë”ë§ ì‹œ langë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ì„œ langê°€ `accept-language`ì— ë”°ë¼ ë°”ë€Œë„ë¡ ë™ì ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

(ì°¸ê³  : [https://nextjs.org/docs/pages/building-your-application/routing/custom-document](https://nextjs.org/docs/pages/building-your-application/routing/custom-document))

ì ìš© í›„ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

- lang="ko" : koí°íŠ¸ì ìš©
- lang="ja" : jaí°íŠ¸ì ìš©

|       | url included | ë¸Œë¼ìš°ì € ì–¸ì–´ | ì´ˆê¸°ë Œë”ë§ | ì´í›„ ë Œë”ë§ |          |
| ----- | ------------ | ------------- | ---------- | ----------- | -------- |
| case1 | ja           | ja            | lang="ja"  | lang="ja"   |          |
| case2 | ja           | ko            | lang="ko"  | lang="ja"   |          |
| case3 | ko           | ja            | lang="ja"  | lang="ko"   | í°íŠ¸ê¹¨ì§ |
| case4 | ko           | ko            | lang="ko"  | lang="ko"   |          |

case1, 4ëŠ” ì •ìƒì´ê³ 

case2ëŠ” í•œêµ­ì–´ì—ì„œ jaí°íŠ¸ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” jpê°€ ì—†ì–´ì„œ Pretendardë¡œ ì ìš©ì´ ë˜ì–´ ë¬¸ì œê°€ ì—†ì§€ë§Œ

case3ì—ì„œ ì¼ì–´ë¡œ ë Œë”ë§ ë˜ëŠ”ë° lang="ko"ë¡œ(koí°íŠ¸) ì ìš©ë˜ì„œ ê¹¨ì§€ëŠ” í˜„ìƒì´ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.

ì´ ê²½ìš°ê°€ ì›ì¸ 2)ì— í•´ë‹¹í•©ë‹ˆë‹¤.

ê·¸ëŸ¼ ì–´ë””ì„œ ì–´ë–»ê²Œ langê°€ ë°”ë€ŒëŠ”ì§€ë¥¼ ë³´ë©´â€¦

\_document â‡’ accept ê¸°ì¤€

\_app / server â‡’ accept ê¸°ì¤€

\_app / client â‡’ accept ê¸°ì¤€

ê° í•˜ìœ„í˜ì´ì§€ server â‡’ accept ê¸°ì¤€

ê° í•˜ìœ„í˜ì´ì§€ client â‡’ url ê¸°ì¤€

ë¬¸ì œ ìƒí™© : í•˜ì´ë“œë ‰ì…˜ ì´í›„ clientì—ì„œ ì¸í„°ë ‰ì…˜ í•˜ë©´ url ê¸°ì¤€ìœ¼ë¡œ langê°€ ì •í•´ì§„ë‹¤.

ì‹œë„

1. layoutìœ¼ë¡œ ê°ì‹¸ì„œ document.lang ë³€ê²½ â‡’ ì‹¤íŒ¨

2. ê°í˜ì´ì§€ì—ì„œ docuemnt.lang ë³€ê²½ â‡’ ëœë¤í•˜ê²Œ ì„±ê³µ(ìˆœì„œ ê¼¬ì´ëŠ”ë“¯)

ì´ê²ƒì €ê²ƒ ë³„ ì§“ ë‹¤í•´ë´¤ì§€ë§Œ,,, next-i18nextëŠ” url ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ìˆ˜ì •í•  ìˆ˜ ì—†ì„ ê²ƒ ê°™ë‹¤ëŠ” ê²°ë¡ ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤â€¦ (ê° í˜ì´ì§€ì—ì„œ document.langë„ ë°”ê¿”ë´¤ì§€ë§Œ ëœë¤í•˜ê²Œ ì ìš©ë˜ë©° ê¹œë¹¡ê±°ë¦°ë‹¤ã…œ )

ì œê°€ ìƒê°í•œ ê²°ë¡ ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. window.open â‡’ router.pushë¡œ ë³€ê²½

ì´ë ‡ê²Œ í•˜ë©´ í–‰ë³µí•˜ì§€ë§Œ, ìƒˆì°½ì˜ ë„ìš´ íˆìŠ¤í† ë¦¬ë¥¼ ëª°ë¼ì„œ ì œê°€ ë°”ê¾¸ê¸°ê°€ ì• ë§¤í•´ ëƒ„ê²¨ë’€ìŠ´ë ,,ã…,,

â‡’ ì¶”í›„ ë¡œì¼€ì¼ì„ ëº„ ê²ƒì´ê¸° ë•Œë¬¸ì— ë°˜ë ¤.

2. window.open ì‹œ ë¡œì¼€ì¼ íƒìƒ‰

ì´ë ‡ê²Œ í•  ê²½ìš° ëª¨ë“  ê³³ì— ì ìš©ì„ ìœ„í•´ window.openì„ ê°ì‹¸ì„œ utilsí™” í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!!

â‡’ í˜„ì¬ ë°©ë²•
window.open ì‚¬ìš©ì‹œ accept-languageì—ì„œ localeì„ ê²€ìƒ‰í•˜ì—¬ ìƒˆì°½ì„ ë„ìš¸ url ì•ì— ì¶”ê°€í•´ì£¼ëŠ” ì‹ìœ¼ë¡œ ê°ì‹¸ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í–ˆìŠµë‹ˆë‹¤!

```tsx
const windowOpen = (url: string) => {
  const lang = navigator.languages[0]; //ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ì§€ì •í•œ ì„ í˜¸ ì–¸ì–´ ëª©ë¡ ì¤‘ 1ìœ„
  const newWindowURL = `/${lang}${url}`;
  window.open(newWindowURL);
};
```

3. next-i18nextì—ì„œ accept-langueë¥¼ íƒìƒ‰í•˜ë„ë¡ ë³€ê²½

í˜„ì¬ ì´ë ‡ê²Œ ë™ì‘ì„ í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³ ìˆëŠ”ë° `lang`ê°€ `defaultLocale`ì„ ë”°ë¼ê°€ëŠ” ê±° ë³´ë‹ˆ langëŠ” ë£¨íŠ¸ì—ì„œ ë§Œ `accept-language`ì— ë”°ë¼ ë³€ê²½ í›„ í•˜ìœ„ ë¼ìš°íŒ…ì—ì„œëŠ” urlì„ ë”°ë¥´ëŠ”ê²Œ ì•„ë‹ê¹Œ ì˜ì‹¬ë©ë‹ˆë‹¤.(ê´€ë ¨ ìë£Œë¥¼ ëª»ì°¾ì•˜ì–´ìš”ã…œ )

4. next-i18next â‡’ next-translate ë¡œ ì´ì‚¬ê°€ê¸°

â‡’ ìœ ë ¥ í›„ë³´

ê¸°ë³¸ì ìœ¼ë¡œ `next-i18next`ëŠ” urlì„ ê¸°ì¤€ìœ¼ë¡œ `locale`ì„ ì •í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ê±°ë¥¼ `accept-language`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë„ë¡ ì„¤ì •í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ì—ˆêµ¬ìš”

ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„í•˜ëŠ” êµ­ì œí™” ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ `next-translate`ëŠ” `accept-language`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `loacle`ì„ ì •í•©ë‹ˆë‹¤.

ì´í›„ urlì—ì„œ `locale`ì„ ëº„ ì˜ˆì •ì´ë¼ë©´ `next-translate`ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ”ê²Œ ì¢‹ì„ ë“¯í•©ë‹ˆë‹¤(ì¢€ ë” ì°¾ì•„ë³´ê³  í…ŒìŠ¤íŠ¸ í›„ì—,,,)

ì´ë ‡ê²Œ í•˜ë©´ ìœ ì €ê°€ ë£¨íŠ¸(/)ì—ì„œ ì ‘ê·¼í–ˆì„ ê²½ìš° localeì´ í•­ìƒ ë¶™ì–´ìˆì–´ì„œ ì„ì˜ë¡œ urlì„ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” ì´ìƒ localeì´ í•­ìƒ ë¶™ì–´ìˆì–´ì„œ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

## 3. ë‹¤ìŒ ìŠ¤í„°ë”” ë°œí‘œ ìŠ¤í¬

## ê²ªê³  ìˆëŠ” ë¬¸ì œì 

ì €ì—ê²Œ ì˜¨ í‹°ì¼“ë“¤ì„ êµ¬í˜„í•˜ë©´ì„œ ì• ë§¤í•¨ì„ ëŠë‚„ë•Œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

1. ìƒˆë¡œë§Œë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ì–´ë””ì— ë„£ì§€?
2. ë‚´ê°€ ì´ê±° ìˆ˜ì •í•˜ë©´ ì–´ë”” í„°ì§€ëŠ”ê±° ì•„ë‹ˆì•¼..?
3. Aì˜ ë™ì‘ì„ ì–´ë””ì„œ í™•ì¸í•´ì•¼ í•˜ì§€..?

ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ê°œê°œì¸ì´ êµ¬í˜„í•œ ê¸°ëŠ¥ê³¼ ì—°ê´€ëœ ì½”ë“œë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒë„ ì–´ë ¤ì›Œ ì§ˆ ê²ƒì´ê³ ,

íŠ¹ì • ë„ë©”ì¸ì— ì‚¬ìš©ë˜ëŠ” ì½”ë“œë“¤ì´ í©ì–´ì ¸ ìˆìœ¼ë©´ ì°¾ê¸° í˜ë“¤ ê²ƒì…ë‹ˆë‹¤.

ë‚´ê°€ ìˆ˜ì •í•˜ëŠ” ì½”ë“œê°€ ë‹¤ë¥¸ ì‚¬ëŒì´ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ê¸°ëŠ¥ì— ì–´ë””ê¹Œì§€ ì˜í–¥ì„ ë¼ì¹˜ë©° ë²„ê·¸ë¥¼ ë¶ˆëŸ¬ì¼ìœ¼í‚¤ëŠ”ì§€ í™•ì‹ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë‘ë ¤ì›€ì„ ì•ˆê³  ìˆ˜ì •í•˜ê²Œ ë©ë‹ˆë‹¤.

![images.jpg](/images/2024-05-20-2024-05-20-01/images.jpg)

ì—¬ê¸°ì— ì•Œë§ì€ FSD ì•„í‚¤í…ì³ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.

## FSD(Feature-sliced Design)

FSDëŠ” FEì•±ì„ ìŠ¤ìºí´ë”©í•˜ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ ë°©ë²•ë¡ ì…ë‹ˆë‹¤.

<aside>
ğŸ’¡ **ìŠ¤ìºí´ë”©**
"ë¬´ëŒ€ì˜ ë†’ì€ ê³³ì—ì„œ ì¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì¹˜í•˜ëŠ” ì„ì‹œ ê°€ì„¤ë¬¼. ì¬ë£Œ ìš´ë°˜ì´ë‚˜ ì‘ì—…ì›ì˜ í†µë¡œ ë° ì‘ì—…ì„ ìœ„í•œ ë°œíŒì´ ëœë‹¤."

</aside>

## Base

FSDì˜ êµ¬ì„±ì€ í¬ê²Œ Layers, Slices, Segmentsë¡œ ì´ë£¨ì–´ì ¸ìˆìŠµë‹ˆë‹¤.

![visual_schema-e826067f573946613dcdc76e3f585082.jpg](/images/2024-05-20-2024-05-20-01/visual_schema-e826067f573946613dcdc76e3f585082.jpg)

ê°ê°ì˜ ì—­í• ì€

### Layers

1. `app`

   â€” ì•± ì „ì²´ ì„¤ì •, ìŠ¤íƒ€ì¼ ë° ê³µê¸‰ì.

2. `pages`

   â€” ì—”í„°í‹°, ê¸°ëŠ¥ ë° ìœ„ì ¯ìœ¼ë¡œ ì „ì²´ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” êµ¬ì„± ë ˆì´ì–´ì…ë‹ˆë‹¤.

3. `widgets`

   â€” ì—”í„°í‹°ì™€ ê¸°ëŠ¥ì„ ì˜ë¯¸ ìˆëŠ” ë¸”ë¡ìœ¼ë¡œ ê²°í•©í•œ ë…ë¦½ì ì¸ UI (ì˜ˆ: IssuesList, UserProfile)

4. `features`

   â€” ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©, ì‚¬ìš©ìì—ê²Œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ (ì˜ˆ: SendComment, AddToCart, UsersSearch)

5. `entities`

   â€” ë¹„ì¦ˆë‹ˆìŠ¤ ì—”í‹°í‹°(ì˜ˆ: ì‚¬ìš©ì, ì œí’ˆ, ì£¼ë¬¸)

6. `shared`

   â€” í”„ë¡œì íŠ¸/ë¹„ì¦ˆë‹ˆìŠ¤ì˜ ì„¸ë¶€ ì‚¬í•­ê³¼ ë¶„ë¦¬ëœ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. (ì˜ˆ: UIKit, libs, i18n, API)

   \*\* ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ë¶„ë¦¬ëœ ê³³ì´ê¸° ë•Œë¬¸ì— slices ë‹¨ê³„ê°€ ì—†ìŠµë‹ˆë‹¤.

### Slices

![feature-sliced-design-04.png](/images/2024-05-20-2024-05-20-01/feature-sliced-design-04.png)

ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ë³„ë¡œ ë¶„ë¦¬ëœ í´ë”ì´ë©° íŠ¹ì • ë¹„ì¦ˆë‹ˆìŠ¤ ì—”í‹°í‹°ì— ëŒ€í•œ ê²ƒìœ¼ë¡œ ê·¸ë£¹í™” í•œ ê²ƒì…ë‹ˆë‹¤.

_ë™ì¼í•œ layerì— ë‹¤ë¥¸ sliceë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤_ ëŠ” ê·œì¹™ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. (<= ë†’ì€ ì‘ì§‘ë ¥, ë‚®ì€ ê²°í•©ë„)

### Segments

ê¸°ìˆ ì  ëª©ì ì— ë”°ë¼ sliceë‚´ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” ì‘ì€ ëª¨ë“ˆì…ë‹ˆë‹¤.

ëª‡ ê°€ì§€ í‘œì¤€í™”ëœ segment ë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ ìˆìŠµë‹ˆë‹¤.

1. `ui`

   â€” UI êµ¬ì„± ìš”ì†Œ, ë°ì´í„° í˜•ì‹ ì§€ì • ê¸°ëŠ¥

2. `model`

   â€” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ì €ì¥ ë° ì´ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ê¸°ëŠ¥

3. `lib`

   â€” ë³´ì¡° ë° ì¸í”„ë¼ ì½”ë“œ

4. `api`

   â€” ì™¸ë¶€ API, ë°±ì—”ë“œ API ë©”ì†Œë“œì™€ì˜ í†µì‹ 

ì´ ì•„í‚¤í…ì³ì˜ í•µì‹¬ì€

1. **ìì‹ ë³´ë‹¤ ë‚®ì€ layerì˜ ì½”ë“œë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. (ì¶”ìƒí™”, ë‹¤í˜•ì„±, ìƒì†)**
2. **ê³µê°œ APIë¥¼ ì‚¬ìš©í•´ì„œë§Œ import ê°€ëŠ¥í•˜ë‹¤. (ìº¡ìŠí™”)**

ë¥¼ í†µí•´

ì½”ë“œëŠ” ì˜í–¥ ë²”ìœ„(ë ˆì´ì–´), ë„ë©”ì¸(ìŠ¬ë¼ì´ìŠ¤), ê¸°ìˆ ì  ëª©ì (ì„¸ê·¸ë¨¼íŠ¸)ë³„ë¡œ êµ¬ì„±ë˜ê³ 

ì´ëŠ” ì‹ ê·œ ì‚¬ìš©ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” í‘œì¤€í™”ëœ ì•„í‚¤í…ì²˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ~~(ë¼ê³  ê³µì‹ ë¬¸ì„œì—ì„œ ë§í•©ë‹ˆë‹¤)~~

ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ ìƒê°í•˜ê³  ìˆëŠ” ë„ë©”ì¸ ë³„ ë¶„ë¦¬(sliceê°€ ëŒ€ì²´) / ë””ìì¸ ì‹œìŠ¤í…œ ê°œì„ (sharedì— uií‚¤íŠ¸) ì‹œì—ë„ ì‹œë„ˆì§€ê°€ ë‚  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì•„í† ë¯¹ ë””ìì¸ë•Œë„ ê·¸ë¬ë“¯ ì´ìƒê³¼ í˜„ì‹¤ì„ ë‹¤ë¥´ê¸°ë•Œë¬¸ì— ì¡°ê¸ˆì´ë¼ë„ ì¨ë³´ê³  ì‹¤ì œ ì‚¬ìš© ê²½í—˜ì„ í† ëŒ€ë¡œ ì£¼ì¥í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ë‹¤ìŒ ë°œí‘œ(06/17)ëŠ” ì§€ê¸ˆ êµ¬í˜„ì¤‘ì¸ ì²˜ë°©ì „ì„ ì™„ë£Œ í›„ FSDë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ë³´ê² ìŠµë‹ˆë‹¤â€¦!

## ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

ê¸°ì¡´ì˜ ì„œë¹„ìŠ¤ì—ì„œ FSDë¡œ ë„˜ì–´ê°€ê¸° ìœ„í•´ì„œëŠ” ì ì§„ì ì¸ ì±„íƒì´ ë¶ˆê°€í”¼ í•©ë‹ˆë‹¤.

ê³µì‹ë¬¸ì„œì˜ ì¶”ì²œë°©ë²•ì€

1. ê°€ì¥ ì‘ì€ ê·œëª¨ë¶€í„° ì±„ì›Œë‚˜ê°„ë‹¤.(1st. app 2nd. shared)
2. FSD ê·œì¹™ì„ ìœ„ë°˜ í•˜ë”ë¼ë„ ì¼ë‹¨ ê¸°ì¡´ UIë¥¼ ëª¨ë‘ widgetsì— ë°•ëŠ”ë‹¤.
3. featuresì™€ entitiesë¥¼ ë¶„ë¦¬í•˜ê³  pageì™€ widgetsì„ ë¡œì§ì´ ìˆëŠ” layerì—ì„œ pureí•œ layerë¡œ ì˜®ê¸´ë‹¤.

ë¦¬íŒ©í† ë§ ê¸°ê°„ì— ìƒˆë¡œìš´ ëŒ€ê·œëª¨ ì—”í‹°í‹°ë¥¼ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤â€¦

â‡’ í° ì‘ì—…ì´ ê±¸ë ¤ìˆì§€ ì•Šì„ ë•Œ ì‹œë„í•´ë³´ì!!

---

### ì°¸ê³ 

ê³µì‹ë¬¸ì„œ : [https://feature-sliced.design/docs/get-started/overview](https://feature-sliced.design/docs/get-started/overview)

ê³µì‹ë¬¸ì„œ(íŠœí† ë¦¬ì–¼) : [https://feature-sliced.design/docs/get-started/tutorial](https://feature-sliced.design/docs/get-started/tutorial)

ì •ë¦¬ë³¸0 : [https://www.youdad.kr/feature-sliced-design/#google_vignette](https://www.youdad.kr/feature-sliced-design/#google_vignette)

ì •ë¦¬ë³¸1(í•œêµ­ì–´ ë²ˆì—­) : [https://emewjin.github.io/feature-sliced-design/](https://emewjin.github.io/feature-sliced-design/)

ì •ë¦¬ë³¸2(ë‹¨í…Œ): [https://velog.io/@jay/fsd](https://velog.io/@jay/fsd)

ì˜ˆì‹œ(react-query) : [https://github.com/ani-team/github-client](https://github.com/ruslan4432013/fsd-react-query-example)

## ë§ˆì¹˜ë©°â€¦

ì£¼ì €ë¦¬ì£¼ì €ë¦¬ ì¼ì§€ë§Œ ì“°ë‹¤ë³´ë‹ˆ ë¬´ì—‡í•˜ë‚˜ ì™„ë²½í•˜ê²Œ ë§ˆë¬´ë¦¬ í•œ ê²Œ ì—†ë‹¤ëŠ” ì•„ì‰¬ì›€ë§Œ ë‚¨ë„¤ìš”ğŸ¥¹

ë‹¤ìŒ ë°œí‘œì—ì„œëŠ” ê³ ë‚œê³¼ ì—­ê²½ë¿ë§Œ ì•„ë‹ˆë¼ í•´ê²°ì‚¬ë¡€ë„ í•¨ê»˜ ë‹´ì„ ìˆ˜ ìˆê¸°ë¥¼ ì†Œë§í•©ë‹ˆë‹¤,,,

[PDF ë„ˆâ€¦ì´ìì‹â€¦](https://www.notion.so/PDF-60d8269f61d444238ae8af71abdd49ba?pvs=21)

[PDF ë„ˆ ì´ìì‹â€¦2](https://www.notion.so/PDF-2-196b446dea054f55997d887158b1c486?pvs=21)

[ë‹¤êµ­ì–´ ì§€ì› ì—ëŸ¬ í•´ê²°](https://www.notion.so/8f1a034c30b9428293e289a51ba0070e?pvs=21)
